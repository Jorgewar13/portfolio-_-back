"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_tsparticles_engine_browser_Core_Particle_js"],{

/***/ "(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Particle.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@tsparticles/engine/browser/Core/Particle.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Particle: function() { return /* binding */ Particle; }\n/* harmony export */ });\n/* harmony import */ var _Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/NumberUtils.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Utils/NumberUtils.js\");\n/* harmony import */ var _Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils/Utils.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Utils/Utils.js\");\n/* harmony import */ var _Utils_Constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Utils/Constants.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Utils/Constants.js\");\n/* harmony import */ var _Utils_ColorUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Utils/ColorUtils.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Utils/ColorUtils.js\");\n/* harmony import */ var _Options_Classes_Interactivity_Interactivity_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Options/Classes/Interactivity/Interactivity.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Options/Classes/Interactivity/Interactivity.js\");\n/* harmony import */ var _Utils_Vector_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Utils/Vector.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Utils/Vector.js\");\n/* harmony import */ var _Utils_Vector3d_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Utils/Vector3d.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Utils/Vector3d.js\");\n/* harmony import */ var _Utils_CanvasUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Utils/CanvasUtils.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Utils/CanvasUtils.js\");\n/* harmony import */ var _Utils_OptionsUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Utils/OptionsUtils.js */ \"(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Utils/OptionsUtils.js\");\n\n\n\n\n\n\n\n\n\nconst defaultRetryCount = 0, double = 2, half = 0.5, squareExp = 2;\nfunction loadEffectData(effect, effectOptions, id, reduceDuplicates) {\n    const effectData = effectOptions.options[effect];\n    if (!effectData) {\n        return;\n    }\n    return (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.deepExtend)({\n        close: effectOptions.close,\n        fill: effectOptions.fill\n    }, (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.itemFromSingleOrMultiple)(effectData, id, reduceDuplicates));\n}\nfunction loadShapeData(shape, shapeOptions, id, reduceDuplicates) {\n    const shapeData = shapeOptions.options[shape];\n    if (!shapeData) {\n        return;\n    }\n    return (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.deepExtend)({\n        close: shapeOptions.close,\n        fill: shapeOptions.fill\n    }, (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.itemFromSingleOrMultiple)(shapeData, id, reduceDuplicates));\n}\nfunction fixOutMode(data) {\n    if (!(0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.isInArray)(data.outMode, data.checkModes)) {\n        return;\n    }\n    const diameter = data.radius * double;\n    if (data.coord > data.maxCoord - diameter) {\n        data.setCb(-data.radius);\n    } else if (data.coord < diameter) {\n        data.setCb(data.radius);\n    }\n}\nclass Particle {\n    destroy(override) {\n        var _shapeDrawer_particleDestroy;\n        if (this.unbreakable || this.destroyed) {\n            return;\n        }\n        this.destroyed = true;\n        this.bubble.inRange = false;\n        this.slow.inRange = false;\n        const container = this.container, pathGenerator = this.pathGenerator, shapeDrawer = container.shapeDrawers.get(this.shape);\n        shapeDrawer === null || shapeDrawer === void 0 ? void 0 : (_shapeDrawer_particleDestroy = shapeDrawer.particleDestroy) === null || _shapeDrawer_particleDestroy === void 0 ? void 0 : _shapeDrawer_particleDestroy.call(shapeDrawer, this);\n        for (const [, plugin] of container.plugins){\n            var _plugin_particleDestroyed;\n            (_plugin_particleDestroyed = plugin.particleDestroyed) === null || _plugin_particleDestroyed === void 0 ? void 0 : _plugin_particleDestroyed.call(plugin, this, override);\n        }\n        for (const updater of container.particles.updaters){\n            var _updater_particleDestroyed;\n            (_updater_particleDestroyed = updater.particleDestroyed) === null || _updater_particleDestroyed === void 0 ? void 0 : _updater_particleDestroyed.call(updater, this, override);\n        }\n        pathGenerator === null || pathGenerator === void 0 ? void 0 : pathGenerator.reset(this);\n        this._engine.dispatchEvent(\"particleDestroyed\", {\n            container: this.container,\n            data: {\n                particle: this\n            }\n        });\n    }\n    async draw(delta) {\n        const container = this.container, canvas = container.canvas;\n        for (const [, plugin] of container.plugins){\n            await canvas.drawParticlePlugin(plugin, this, delta);\n        }\n        await canvas.drawParticle(this, delta);\n    }\n    getFillColor() {\n        var _this_bubble_color;\n        return this._getRollColor((_this_bubble_color = this.bubble.color) !== null && _this_bubble_color !== void 0 ? _this_bubble_color : (0,_Utils_ColorUtils_js__WEBPACK_IMPORTED_MODULE_3__.getHslFromAnimation)(this.color));\n    }\n    getMass() {\n        return this.getRadius() ** squareExp * Math.PI * half;\n    }\n    getPosition() {\n        return {\n            x: this.position.x + this.offset.x,\n            y: this.position.y + this.offset.y,\n            z: this.position.z\n        };\n    }\n    getRadius() {\n        var _this_bubble_radius;\n        return (_this_bubble_radius = this.bubble.radius) !== null && _this_bubble_radius !== void 0 ? _this_bubble_radius : this.size.value;\n    }\n    getStrokeColor() {\n        var _this_bubble_color;\n        return this._getRollColor((_this_bubble_color = this.bubble.color) !== null && _this_bubble_color !== void 0 ? _this_bubble_color : (0,_Utils_ColorUtils_js__WEBPACK_IMPORTED_MODULE_3__.getHslFromAnimation)(this.strokeColor));\n    }\n    async init(id, position, overrideOptions, group) {\n        var _effectDrawer_particleInit, _shapeDrawer_particleInit;\n        const container = this.container, engine = this._engine;\n        this.id = id;\n        this.group = group;\n        this.effectClose = true;\n        this.effectFill = true;\n        this.shapeClose = true;\n        this.shapeFill = true;\n        this.pathRotation = false;\n        this.lastPathTime = 0;\n        this.destroyed = false;\n        this.unbreakable = false;\n        this.rotation = 0;\n        this.misplaced = false;\n        this.retina = {\n            maxDistance: {}\n        };\n        this.outType = \"normal\";\n        this.ignoresResizeRatio = true;\n        const pxRatio = container.retina.pixelRatio, mainOptions = container.actualOptions, particlesOptions = (0,_Utils_OptionsUtils_js__WEBPACK_IMPORTED_MODULE_8__.loadParticlesOptions)(this._engine, container, mainOptions.particles), effectType = particlesOptions.effect.type, shapeType = particlesOptions.shape.type, { reduceDuplicates } = particlesOptions;\n        this.effect = (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.itemFromSingleOrMultiple)(effectType, this.id, reduceDuplicates);\n        this.shape = (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.itemFromSingleOrMultiple)(shapeType, this.id, reduceDuplicates);\n        const effectOptions = particlesOptions.effect, shapeOptions = particlesOptions.shape;\n        if (overrideOptions) {\n            var _overrideOptions_effect, _overrideOptions_shape;\n            if ((_overrideOptions_effect = overrideOptions.effect) === null || _overrideOptions_effect === void 0 ? void 0 : _overrideOptions_effect.type) {\n                const overrideEffectType = overrideOptions.effect.type, effect = (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.itemFromSingleOrMultiple)(overrideEffectType, this.id, reduceDuplicates);\n                if (effect) {\n                    this.effect = effect;\n                    effectOptions.load(overrideOptions.effect);\n                }\n            }\n            if ((_overrideOptions_shape = overrideOptions.shape) === null || _overrideOptions_shape === void 0 ? void 0 : _overrideOptions_shape.type) {\n                const overrideShapeType = overrideOptions.shape.type, shape = (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.itemFromSingleOrMultiple)(overrideShapeType, this.id, reduceDuplicates);\n                if (shape) {\n                    this.shape = shape;\n                    shapeOptions.load(overrideOptions.shape);\n                }\n            }\n        }\n        this.effectData = loadEffectData(this.effect, effectOptions, this.id, reduceDuplicates);\n        this.shapeData = loadShapeData(this.shape, shapeOptions, this.id, reduceDuplicates);\n        particlesOptions.load(overrideOptions);\n        const effectData = this.effectData;\n        if (effectData) {\n            particlesOptions.load(effectData.particles);\n        }\n        const shapeData = this.shapeData;\n        if (shapeData) {\n            particlesOptions.load(shapeData.particles);\n        }\n        const interactivity = new _Options_Classes_Interactivity_Interactivity_js__WEBPACK_IMPORTED_MODULE_4__.Interactivity(engine, container);\n        interactivity.load(container.actualOptions.interactivity);\n        interactivity.load(particlesOptions.interactivity);\n        this.interactivity = interactivity;\n        var _effectData_fill;\n        this.effectFill = (_effectData_fill = effectData === null || effectData === void 0 ? void 0 : effectData.fill) !== null && _effectData_fill !== void 0 ? _effectData_fill : particlesOptions.effect.fill;\n        var _effectData_close;\n        this.effectClose = (_effectData_close = effectData === null || effectData === void 0 ? void 0 : effectData.close) !== null && _effectData_close !== void 0 ? _effectData_close : particlesOptions.effect.close;\n        var _shapeData_fill;\n        this.shapeFill = (_shapeData_fill = shapeData === null || shapeData === void 0 ? void 0 : shapeData.fill) !== null && _shapeData_fill !== void 0 ? _shapeData_fill : particlesOptions.shape.fill;\n        var _shapeData_close;\n        this.shapeClose = (_shapeData_close = shapeData === null || shapeData === void 0 ? void 0 : shapeData.close) !== null && _shapeData_close !== void 0 ? _shapeData_close : particlesOptions.shape.close;\n        this.options = particlesOptions;\n        const pathOptions = this.options.move.path;\n        this.pathDelay = (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.getRangeValue)(pathOptions.delay.value) * _Utils_Constants_js__WEBPACK_IMPORTED_MODULE_2__.millisecondsToSeconds;\n        if (pathOptions.generator) {\n            this.pathGenerator = this._engine.getPathGenerator(pathOptions.generator);\n            if (this.pathGenerator && container.addPath(pathOptions.generator, this.pathGenerator)) {\n                await this.pathGenerator.init(container);\n            }\n        }\n        container.retina.initParticle(this);\n        this.size = (0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.initParticleNumericAnimationValue)(this.options.size, pxRatio);\n        this.bubble = {\n            inRange: false\n        };\n        this.slow = {\n            inRange: false,\n            factor: 1\n        };\n        this._initPosition(position);\n        this.initialVelocity = this._calculateVelocity();\n        this.velocity = this.initialVelocity.copy();\n        const decayOffset = 1;\n        this.moveDecay = decayOffset - (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.getRangeValue)(this.options.move.decay);\n        const particles = container.particles;\n        particles.setLastZIndex(this.position.z);\n        this.zIndexFactor = this.position.z / container.zLayers;\n        this.sides = 24;\n        let effectDrawer = container.effectDrawers.get(this.effect);\n        if (!effectDrawer) {\n            effectDrawer = this._engine.getEffectDrawer(this.effect);\n            if (effectDrawer) {\n                container.effectDrawers.set(this.effect, effectDrawer);\n            }\n        }\n        if (effectDrawer === null || effectDrawer === void 0 ? void 0 : effectDrawer.loadEffect) {\n            await effectDrawer.loadEffect(this);\n        }\n        let shapeDrawer = container.shapeDrawers.get(this.shape);\n        if (!shapeDrawer) {\n            shapeDrawer = this._engine.getShapeDrawer(this.shape);\n            if (shapeDrawer) {\n                container.shapeDrawers.set(this.shape, shapeDrawer);\n            }\n        }\n        if (shapeDrawer === null || shapeDrawer === void 0 ? void 0 : shapeDrawer.loadShape) {\n            await shapeDrawer.loadShape(this);\n        }\n        const sideCountFunc = shapeDrawer === null || shapeDrawer === void 0 ? void 0 : shapeDrawer.getSidesCount;\n        if (sideCountFunc) {\n            this.sides = sideCountFunc(this);\n        }\n        this.spawning = false;\n        this.shadowColor = (0,_Utils_ColorUtils_js__WEBPACK_IMPORTED_MODULE_3__.rangeColorToRgb)(this.options.shadow.color);\n        for (const updater of particles.updaters){\n            await updater.init(this);\n        }\n        for (const mover of particles.movers){\n            var _mover_init;\n            await ((_mover_init = mover.init) === null || _mover_init === void 0 ? void 0 : _mover_init.call(mover, this));\n        }\n        await (effectDrawer === null || effectDrawer === void 0 ? void 0 : (_effectDrawer_particleInit = effectDrawer.particleInit) === null || _effectDrawer_particleInit === void 0 ? void 0 : _effectDrawer_particleInit.call(effectDrawer, container, this));\n        await (shapeDrawer === null || shapeDrawer === void 0 ? void 0 : (_shapeDrawer_particleInit = shapeDrawer.particleInit) === null || _shapeDrawer_particleInit === void 0 ? void 0 : _shapeDrawer_particleInit.call(shapeDrawer, container, this));\n        for (const [, plugin] of container.plugins){\n            var _plugin_particleCreated;\n            (_plugin_particleCreated = plugin.particleCreated) === null || _plugin_particleCreated === void 0 ? void 0 : _plugin_particleCreated.call(plugin, this);\n        }\n    }\n    isInsideCanvas() {\n        const radius = this.getRadius(), canvasSize = this.container.canvas.size, position = this.position;\n        return position.x >= -radius && position.y >= -radius && position.y <= canvasSize.height + radius && position.x <= canvasSize.width + radius;\n    }\n    isVisible() {\n        return !this.destroyed && !this.spawning && this.isInsideCanvas();\n    }\n    reset() {\n        for (const updater of this.container.particles.updaters){\n            var _updater_reset;\n            (_updater_reset = updater.reset) === null || _updater_reset === void 0 ? void 0 : _updater_reset.call(updater, this);\n        }\n    }\n    constructor(engine, container){\n        var _this = this;\n        this.container = container;\n        this._calcPosition = function(container, position, zIndex) {\n            let tryCount = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : defaultRetryCount;\n            for (const [, plugin] of container.plugins){\n                const pluginPos = plugin.particlePosition !== undefined ? plugin.particlePosition(position, _this) : undefined;\n                if (pluginPos) {\n                    return _Utils_Vector3d_js__WEBPACK_IMPORTED_MODULE_6__.Vector3d.create(pluginPos.x, pluginPos.y, zIndex);\n                }\n            }\n            const canvasSize = container.canvas.size, exactPosition = (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.calcExactPositionOrRandomFromSize)({\n                size: canvasSize,\n                position: position\n            }), pos = _Utils_Vector3d_js__WEBPACK_IMPORTED_MODULE_6__.Vector3d.create(exactPosition.x, exactPosition.y, zIndex), radius = _this.getRadius(), outModes = _this.options.move.outModes, fixHorizontal = (outMode)=>{\n                fixOutMode({\n                    outMode,\n                    checkModes: [\n                        \"bounce\"\n                    ],\n                    coord: pos.x,\n                    maxCoord: container.canvas.size.width,\n                    setCb: (value)=>pos.x += value,\n                    radius\n                });\n            }, fixVertical = (outMode)=>{\n                fixOutMode({\n                    outMode,\n                    checkModes: [\n                        \"bounce\"\n                    ],\n                    coord: pos.y,\n                    maxCoord: container.canvas.size.height,\n                    setCb: (value)=>pos.y += value,\n                    radius\n                });\n            };\n            var _outModes_left;\n            fixHorizontal((_outModes_left = outModes.left) !== null && _outModes_left !== void 0 ? _outModes_left : outModes.default);\n            var _outModes_right;\n            fixHorizontal((_outModes_right = outModes.right) !== null && _outModes_right !== void 0 ? _outModes_right : outModes.default);\n            var _outModes_top;\n            fixVertical((_outModes_top = outModes.top) !== null && _outModes_top !== void 0 ? _outModes_top : outModes.default);\n            var _outModes_bottom;\n            fixVertical((_outModes_bottom = outModes.bottom) !== null && _outModes_bottom !== void 0 ? _outModes_bottom : outModes.default);\n            if (_this._checkOverlap(pos, tryCount)) {\n                const increment = 1;\n                return _this._calcPosition(container, undefined, zIndex, tryCount + increment);\n            }\n            return pos;\n        };\n        this._calculateVelocity = ()=>{\n            const baseVelocity = (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.getParticleBaseVelocity)(this.direction), res = baseVelocity.copy(), moveOptions = this.options.move;\n            if (moveOptions.direction === \"inside\" || moveOptions.direction === \"outside\") {\n                return res;\n            }\n            const rad = (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.degToRad)((0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.getRangeValue)(moveOptions.angle.value)), radOffset = (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.degToRad)((0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.getRangeValue)(moveOptions.angle.offset)), range = {\n                left: radOffset - rad * half,\n                right: radOffset + rad * half\n            };\n            if (!moveOptions.straight) {\n                res.angle += (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.randomInRange)((0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.setRangeValue)(range.left, range.right));\n            }\n            if (moveOptions.random && typeof moveOptions.speed === \"number\") {\n                res.length *= (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.getRandom)();\n            }\n            return res;\n        };\n        this._checkOverlap = function(pos) {\n            let tryCount = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : defaultRetryCount;\n            const collisionsOptions = _this.options.collisions, radius = _this.getRadius();\n            if (!collisionsOptions.enable) {\n                return false;\n            }\n            const overlapOptions = collisionsOptions.overlap;\n            if (overlapOptions.enable) {\n                return false;\n            }\n            const retries = overlapOptions.retries, minRetries = 0;\n            if (retries >= minRetries && tryCount > retries) {\n                throw new Error(\"\".concat(_Utils_Constants_js__WEBPACK_IMPORTED_MODULE_2__.errorPrefix, \" particle is overlapping and can't be placed\"));\n            }\n            return !!_this.container.particles.find((particle)=>(0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.getDistance)(pos, particle.position) < radius + particle.getRadius());\n        };\n        this._getRollColor = (color)=>{\n            if (!color || !this.roll || !this.backColor && !this.roll.alter) {\n                return color;\n            }\n            var _this_roll_angle;\n            const rollFactor = 1, none = 0, backFactor = this.roll.horizontal && this.roll.vertical ? double * rollFactor : rollFactor, backSum = this.roll.horizontal ? Math.PI * half : none, rolled = Math.floor((((_this_roll_angle = this.roll.angle) !== null && _this_roll_angle !== void 0 ? _this_roll_angle : none) + backSum) / (Math.PI / backFactor)) % double;\n            if (!rolled) {\n                return color;\n            }\n            if (this.backColor) {\n                return this.backColor;\n            }\n            if (this.roll.alter) {\n                return (0,_Utils_CanvasUtils_js__WEBPACK_IMPORTED_MODULE_7__.alterHsl)(color, this.roll.alter.type, this.roll.alter.value);\n            }\n            return color;\n        };\n        this._initPosition = (position)=>{\n            const container = this.container, zIndexValue = (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.getRangeValue)(this.options.zIndex.value), minZ = 0;\n            this.position = this._calcPosition(container, position, (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(zIndexValue, minZ, container.zLayers));\n            this.initialPosition = this.position.copy();\n            const canvasSize = container.canvas.size, defaultRadius = 0;\n            var _this_options_move_center_radius, _this_options_move_center_mode;\n            this.moveCenter = {\n                ...(0,_Utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.getPosition)(this.options.move.center, canvasSize),\n                radius: (_this_options_move_center_radius = this.options.move.center.radius) !== null && _this_options_move_center_radius !== void 0 ? _this_options_move_center_radius : defaultRadius,\n                mode: (_this_options_move_center_mode = this.options.move.center.mode) !== null && _this_options_move_center_mode !== void 0 ? _this_options_move_center_mode : \"percent\"\n            };\n            this.direction = (0,_Utils_NumberUtils_js__WEBPACK_IMPORTED_MODULE_0__.getParticleDirectionAngle)(this.options.move.direction, this.position, this.moveCenter);\n            switch(this.options.move.direction){\n                case \"inside\":\n                    this.outType = \"inside\";\n                    break;\n                case \"outside\":\n                    this.outType = \"outside\";\n                    break;\n            }\n            this.offset = _Utils_Vector_js__WEBPACK_IMPORTED_MODULE_5__.Vector.origin;\n        };\n        this._engine = engine;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AdHNwYXJ0aWNsZXMvZW5naW5lL2Jyb3dzZXIvQ29yZS9QYXJ0aWNsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXVOO0FBQ2xGO0FBQzNEO0FBQ0k7QUFDSTtBQUN2QztBQUNJO0FBQ0k7QUFDYTtBQUNoRSxNQUFNd0Isb0JBQW9CLEdBQUdDLFNBQVMsR0FBR0MsT0FBTyxLQUFLQyxZQUFZO0FBQ2pFLFNBQVNDLGVBQWVDLE1BQU0sRUFBRUMsYUFBYSxFQUFFQyxFQUFFLEVBQUVDLGdCQUFnQjtJQUMvRCxNQUFNQyxhQUFhSCxjQUFjSSxPQUFPLENBQUNMLE9BQU87SUFDaEQsSUFBSSxDQUFDSSxZQUFZO1FBQ2I7SUFDSjtJQUNBLE9BQU92QiwyREFBVUEsQ0FBQztRQUNkeUIsT0FBT0wsY0FBY0ssS0FBSztRQUMxQkMsTUFBTU4sY0FBY00sSUFBSTtJQUM1QixHQUFHdEIseUVBQXdCQSxDQUFDbUIsWUFBWUYsSUFBSUM7QUFDaEQ7QUFDQSxTQUFTSyxjQUFjQyxLQUFLLEVBQUVDLFlBQVksRUFBRVIsRUFBRSxFQUFFQyxnQkFBZ0I7SUFDNUQsTUFBTVEsWUFBWUQsYUFBYUwsT0FBTyxDQUFDSSxNQUFNO0lBQzdDLElBQUksQ0FBQ0UsV0FBVztRQUNaO0lBQ0o7SUFDQSxPQUFPOUIsMkRBQVVBLENBQUM7UUFDZHlCLE9BQU9JLGFBQWFKLEtBQUs7UUFDekJDLE1BQU1HLGFBQWFILElBQUk7SUFDM0IsR0FBR3RCLHlFQUF3QkEsQ0FBQzBCLFdBQVdULElBQUlDO0FBQy9DO0FBQ0EsU0FBU1MsV0FBV0MsSUFBSTtJQUNwQixJQUFJLENBQUM3QiwwREFBU0EsQ0FBQzZCLEtBQUtDLE9BQU8sRUFBRUQsS0FBS0UsVUFBVSxHQUFHO1FBQzNDO0lBQ0o7SUFDQSxNQUFNQyxXQUFXSCxLQUFLSSxNQUFNLEdBQUdyQjtJQUMvQixJQUFJaUIsS0FBS0ssS0FBSyxHQUFHTCxLQUFLTSxRQUFRLEdBQUdILFVBQVU7UUFDdkNILEtBQUtPLEtBQUssQ0FBQyxDQUFDUCxLQUFLSSxNQUFNO0lBQzNCLE9BQ0ssSUFBSUosS0FBS0ssS0FBSyxHQUFHRixVQUFVO1FBQzVCSCxLQUFLTyxLQUFLLENBQUNQLEtBQUtJLE1BQU07SUFDMUI7QUFDSjtBQUNPLE1BQU1JO0lBaUhUQyxRQUFRQyxRQUFRLEVBQUU7WUFRZEM7UUFQQSxJQUFJLElBQUksQ0FBQ0MsV0FBVyxJQUFJLElBQUksQ0FBQ0MsU0FBUyxFQUFFO1lBQ3BDO1FBQ0o7UUFDQSxJQUFJLENBQUNBLFNBQVMsR0FBRztRQUNqQixJQUFJLENBQUNDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHO1FBQ3RCLElBQUksQ0FBQ0MsSUFBSSxDQUFDRCxPQUFPLEdBQUc7UUFDcEIsTUFBTUUsWUFBWSxJQUFJLENBQUNBLFNBQVMsRUFBRUMsZ0JBQWdCLElBQUksQ0FBQ0EsYUFBYSxFQUFFUCxjQUFjTSxVQUFVRSxZQUFZLENBQUNDLEdBQUcsQ0FBQyxJQUFJLENBQUN4QixLQUFLO1FBQ3pIZSx3QkFBQUEsbUNBQUFBLCtCQUFBQSxZQUFhVSxlQUFlLGNBQTVCVixtREFBQUEsa0NBQUFBLGFBQStCLElBQUk7UUFDbkMsS0FBSyxNQUFNLEdBQUdXLE9BQU8sSUFBSUwsVUFBVU0sT0FBTyxDQUFFO2dCQUN4Q0Q7YUFBQUEsNEJBQUFBLE9BQU9FLGlCQUFpQixjQUF4QkYsZ0RBQUFBLCtCQUFBQSxRQUEyQixJQUFJLEVBQUVaO1FBQ3JDO1FBQ0EsS0FBSyxNQUFNZSxXQUFXUixVQUFVUyxTQUFTLENBQUNDLFFBQVEsQ0FBRTtnQkFDaERGO2FBQUFBLDZCQUFBQSxRQUFRRCxpQkFBaUIsY0FBekJDLGlEQUFBQSxnQ0FBQUEsU0FBNEIsSUFBSSxFQUFFZjtRQUN0QztRQUNBUSwwQkFBQUEsb0NBQUFBLGNBQWVVLEtBQUssQ0FBQyxJQUFJO1FBQ3pCLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxhQUFhLENBQUMscUJBQXFCO1lBQzVDYixXQUFXLElBQUksQ0FBQ0EsU0FBUztZQUN6QmpCLE1BQU07Z0JBQ0YrQixVQUFVLElBQUk7WUFDbEI7UUFDSjtJQUNKO0lBQ0EsTUFBTUMsS0FBS0MsS0FBSyxFQUFFO1FBQ2QsTUFBTWhCLFlBQVksSUFBSSxDQUFDQSxTQUFTLEVBQUVpQixTQUFTakIsVUFBVWlCLE1BQU07UUFDM0QsS0FBSyxNQUFNLEdBQUdaLE9BQU8sSUFBSUwsVUFBVU0sT0FBTyxDQUFFO1lBQ3hDLE1BQU1XLE9BQU9DLGtCQUFrQixDQUFDYixRQUFRLElBQUksRUFBRVc7UUFDbEQ7UUFDQSxNQUFNQyxPQUFPRSxZQUFZLENBQUMsSUFBSSxFQUFFSDtJQUNwQztJQUNBSSxlQUFlO1lBQ2U7UUFBMUIsT0FBTyxJQUFJLENBQUNDLGFBQWEsQ0FBQywwQkFBSSxDQUFDeEIsTUFBTSxDQUFDeUIsS0FBSyxjQUFqQixxREFBcUJoRSx5RUFBbUJBLENBQUMsSUFBSSxDQUFDZ0UsS0FBSztJQUNqRjtJQUNBQyxVQUFVO1FBQ04sT0FBTyxJQUFJLENBQUNDLFNBQVMsTUFBTXhELFlBQVl5RCxLQUFLQyxFQUFFLEdBQUczRDtJQUNyRDtJQUNBZixjQUFjO1FBQ1YsT0FBTztZQUNIMkUsR0FBRyxJQUFJLENBQUNDLFFBQVEsQ0FBQ0QsQ0FBQyxHQUFHLElBQUksQ0FBQ0UsTUFBTSxDQUFDRixDQUFDO1lBQ2xDRyxHQUFHLElBQUksQ0FBQ0YsUUFBUSxDQUFDRSxDQUFDLEdBQUcsSUFBSSxDQUFDRCxNQUFNLENBQUNDLENBQUM7WUFDbENDLEdBQUcsSUFBSSxDQUFDSCxRQUFRLENBQUNHLENBQUM7UUFDdEI7SUFDSjtJQUNBUCxZQUFZO1lBQ0Q7UUFBUCxPQUFPLDJCQUFJLENBQUMzQixNQUFNLENBQUNWLE1BQU0sY0FBbEIsdURBQXNCLElBQUksQ0FBQzZDLElBQUksQ0FBQ0MsS0FBSztJQUNoRDtJQUNBQyxpQkFBaUI7WUFDYTtRQUExQixPQUFPLElBQUksQ0FBQ2IsYUFBYSxDQUFDLDBCQUFJLENBQUN4QixNQUFNLENBQUN5QixLQUFLLGNBQWpCLHFEQUFxQmhFLHlFQUFtQkEsQ0FBQyxJQUFJLENBQUM2RSxXQUFXO0lBQ3ZGO0lBQ0EsTUFBTUMsS0FBS2hFLEVBQUUsRUFBRXdELFFBQVEsRUFBRVMsZUFBZSxFQUFFQyxLQUFLLEVBQUU7WUFxSHZDQyw0QkFDQTdDO1FBckhOLE1BQU1NLFlBQVksSUFBSSxDQUFDQSxTQUFTLEVBQUV3QyxTQUFTLElBQUksQ0FBQzVCLE9BQU87UUFDdkQsSUFBSSxDQUFDeEMsRUFBRSxHQUFHQTtRQUNWLElBQUksQ0FBQ2tFLEtBQUssR0FBR0E7UUFDYixJQUFJLENBQUNHLFdBQVcsR0FBRztRQUNuQixJQUFJLENBQUNDLFVBQVUsR0FBRztRQUNsQixJQUFJLENBQUNDLFVBQVUsR0FBRztRQUNsQixJQUFJLENBQUNDLFNBQVMsR0FBRztRQUNqQixJQUFJLENBQUNDLFlBQVksR0FBRztRQUNwQixJQUFJLENBQUNDLFlBQVksR0FBRztRQUNwQixJQUFJLENBQUNsRCxTQUFTLEdBQUc7UUFDakIsSUFBSSxDQUFDRCxXQUFXLEdBQUc7UUFDbkIsSUFBSSxDQUFDb0QsUUFBUSxHQUFHO1FBQ2hCLElBQUksQ0FBQ0MsU0FBUyxHQUFHO1FBQ2pCLElBQUksQ0FBQ0MsTUFBTSxHQUFHO1lBQ1ZDLGFBQWEsQ0FBQztRQUNsQjtRQUNBLElBQUksQ0FBQ0MsT0FBTyxHQUFHO1FBQ2YsSUFBSSxDQUFDQyxrQkFBa0IsR0FBRztRQUMxQixNQUFNQyxVQUFVckQsVUFBVWlELE1BQU0sQ0FBQ0ssVUFBVSxFQUFFQyxjQUFjdkQsVUFBVXdELGFBQWEsRUFBRUMsbUJBQW1CN0YsNEVBQW9CQSxDQUFDLElBQUksQ0FBQ2dELE9BQU8sRUFBRVosV0FBV3VELFlBQVk5QyxTQUFTLEdBQUdpRCxhQUFhRCxpQkFBaUJ2RixNQUFNLENBQUN5RixJQUFJLEVBQUVDLFlBQVlILGlCQUFpQjlFLEtBQUssQ0FBQ2dGLElBQUksRUFBRSxFQUFFdEYsZ0JBQWdCLEVBQUUsR0FBR29GO1FBQ3hSLElBQUksQ0FBQ3ZGLE1BQU0sR0FBR2YseUVBQXdCQSxDQUFDdUcsWUFBWSxJQUFJLENBQUN0RixFQUFFLEVBQUVDO1FBQzVELElBQUksQ0FBQ00sS0FBSyxHQUFHeEIseUVBQXdCQSxDQUFDeUcsV0FBVyxJQUFJLENBQUN4RixFQUFFLEVBQUVDO1FBQzFELE1BQU1GLGdCQUFnQnNGLGlCQUFpQnZGLE1BQU0sRUFBRVUsZUFBZTZFLGlCQUFpQjlFLEtBQUs7UUFDcEYsSUFBSTBELGlCQUFpQjtnQkFDYkEseUJBT0FBO1lBUEosS0FBSUEsMEJBQUFBLGdCQUFnQm5FLE1BQU0sY0FBdEJtRSw4Q0FBQUEsd0JBQXdCc0IsSUFBSSxFQUFFO2dCQUM5QixNQUFNRSxxQkFBcUJ4QixnQkFBZ0JuRSxNQUFNLENBQUN5RixJQUFJLEVBQUV6RixTQUFTZix5RUFBd0JBLENBQUMwRyxvQkFBb0IsSUFBSSxDQUFDekYsRUFBRSxFQUFFQztnQkFDdkgsSUFBSUgsUUFBUTtvQkFDUixJQUFJLENBQUNBLE1BQU0sR0FBR0E7b0JBQ2RDLGNBQWMyRixJQUFJLENBQUN6QixnQkFBZ0JuRSxNQUFNO2dCQUM3QztZQUNKO1lBQ0EsS0FBSW1FLHlCQUFBQSxnQkFBZ0IxRCxLQUFLLGNBQXJCMEQsNkNBQUFBLHVCQUF1QnNCLElBQUksRUFBRTtnQkFDN0IsTUFBTUksb0JBQW9CMUIsZ0JBQWdCMUQsS0FBSyxDQUFDZ0YsSUFBSSxFQUFFaEYsUUFBUXhCLHlFQUF3QkEsQ0FBQzRHLG1CQUFtQixJQUFJLENBQUMzRixFQUFFLEVBQUVDO2dCQUNuSCxJQUFJTSxPQUFPO29CQUNQLElBQUksQ0FBQ0EsS0FBSyxHQUFHQTtvQkFDYkMsYUFBYWtGLElBQUksQ0FBQ3pCLGdCQUFnQjFELEtBQUs7Z0JBQzNDO1lBQ0o7UUFDSjtRQUNBLElBQUksQ0FBQ0wsVUFBVSxHQUFHTCxlQUFlLElBQUksQ0FBQ0MsTUFBTSxFQUFFQyxlQUFlLElBQUksQ0FBQ0MsRUFBRSxFQUFFQztRQUN0RSxJQUFJLENBQUNRLFNBQVMsR0FBR0gsY0FBYyxJQUFJLENBQUNDLEtBQUssRUFBRUMsY0FBYyxJQUFJLENBQUNSLEVBQUUsRUFBRUM7UUFDbEVvRixpQkFBaUJLLElBQUksQ0FBQ3pCO1FBQ3RCLE1BQU0vRCxhQUFhLElBQUksQ0FBQ0EsVUFBVTtRQUNsQyxJQUFJQSxZQUFZO1lBQ1ptRixpQkFBaUJLLElBQUksQ0FBQ3hGLFdBQVdtQyxTQUFTO1FBQzlDO1FBQ0EsTUFBTTVCLFlBQVksSUFBSSxDQUFDQSxTQUFTO1FBQ2hDLElBQUlBLFdBQVc7WUFDWDRFLGlCQUFpQkssSUFBSSxDQUFDakYsVUFBVTRCLFNBQVM7UUFDN0M7UUFDQSxNQUFNdUQsZ0JBQWdCLElBQUl4RywwRkFBYUEsQ0FBQ2dGLFFBQVF4QztRQUNoRGdFLGNBQWNGLElBQUksQ0FBQzlELFVBQVV3RCxhQUFhLENBQUNRLGFBQWE7UUFDeERBLGNBQWNGLElBQUksQ0FBQ0wsaUJBQWlCTyxhQUFhO1FBQ2pELElBQUksQ0FBQ0EsYUFBYSxHQUFHQTtZQUNIMUY7UUFBbEIsSUFBSSxDQUFDb0UsVUFBVSxHQUFHcEUsQ0FBQUEsbUJBQUFBLHVCQUFBQSxpQ0FBQUEsV0FBWUcsSUFBSSxjQUFoQkgsOEJBQUFBLG1CQUFvQm1GLGlCQUFpQnZGLE1BQU0sQ0FBQ08sSUFBSTtZQUMvQ0g7UUFBbkIsSUFBSSxDQUFDbUUsV0FBVyxHQUFHbkUsQ0FBQUEsb0JBQUFBLHVCQUFBQSxpQ0FBQUEsV0FBWUUsS0FBSyxjQUFqQkYsK0JBQUFBLG9CQUFxQm1GLGlCQUFpQnZGLE1BQU0sQ0FBQ00sS0FBSztZQUNwREs7UUFBakIsSUFBSSxDQUFDK0QsU0FBUyxHQUFHL0QsQ0FBQUEsa0JBQUFBLHNCQUFBQSxnQ0FBQUEsVUFBV0osSUFBSSxjQUFmSSw2QkFBQUEsa0JBQW1CNEUsaUJBQWlCOUUsS0FBSyxDQUFDRixJQUFJO1lBQzdDSTtRQUFsQixJQUFJLENBQUM4RCxVQUFVLEdBQUc5RCxDQUFBQSxtQkFBQUEsc0JBQUFBLGdDQUFBQSxVQUFXTCxLQUFLLGNBQWhCSyw4QkFBQUEsbUJBQW9CNEUsaUJBQWlCOUUsS0FBSyxDQUFDSCxLQUFLO1FBQ2xFLElBQUksQ0FBQ0QsT0FBTyxHQUFHa0Y7UUFDZixNQUFNUSxjQUFjLElBQUksQ0FBQzFGLE9BQU8sQ0FBQzJGLElBQUksQ0FBQ0MsSUFBSTtRQUMxQyxJQUFJLENBQUNDLFNBQVMsR0FBR3hILG9FQUFhQSxDQUFDcUgsWUFBWUksS0FBSyxDQUFDcEMsS0FBSyxJQUFJNUUsc0VBQXFCQTtRQUMvRSxJQUFJNEcsWUFBWUssU0FBUyxFQUFFO1lBQ3ZCLElBQUksQ0FBQ3JFLGFBQWEsR0FBRyxJQUFJLENBQUNXLE9BQU8sQ0FBQzJELGdCQUFnQixDQUFDTixZQUFZSyxTQUFTO1lBQ3hFLElBQUksSUFBSSxDQUFDckUsYUFBYSxJQUFJRCxVQUFVd0UsT0FBTyxDQUFDUCxZQUFZSyxTQUFTLEVBQUUsSUFBSSxDQUFDckUsYUFBYSxHQUFHO2dCQUNwRixNQUFNLElBQUksQ0FBQ0EsYUFBYSxDQUFDbUMsSUFBSSxDQUFDcEM7WUFDbEM7UUFDSjtRQUNBQSxVQUFVaUQsTUFBTSxDQUFDd0IsWUFBWSxDQUFDLElBQUk7UUFDbEMsSUFBSSxDQUFDekMsSUFBSSxHQUFHL0Usa0ZBQWlDQSxDQUFDLElBQUksQ0FBQ3NCLE9BQU8sQ0FBQ3lELElBQUksRUFBRXFCO1FBQ2pFLElBQUksQ0FBQ3hELE1BQU0sR0FBRztZQUNWQyxTQUFTO1FBQ2I7UUFDQSxJQUFJLENBQUNDLElBQUksR0FBRztZQUNSRCxTQUFTO1lBQ1Q0RSxRQUFRO1FBQ1o7UUFDQSxJQUFJLENBQUNDLGFBQWEsQ0FBQy9DO1FBQ25CLElBQUksQ0FBQ2dELGVBQWUsR0FBRyxJQUFJLENBQUNDLGtCQUFrQjtRQUM5QyxJQUFJLENBQUNDLFFBQVEsR0FBRyxJQUFJLENBQUNGLGVBQWUsQ0FBQ0csSUFBSTtRQUN6QyxNQUFNQyxjQUFjO1FBQ3BCLElBQUksQ0FBQ0MsU0FBUyxHQUFHRCxjQUFjcEksb0VBQWFBLENBQUMsSUFBSSxDQUFDMkIsT0FBTyxDQUFDMkYsSUFBSSxDQUFDZ0IsS0FBSztRQUNwRSxNQUFNekUsWUFBWVQsVUFBVVMsU0FBUztRQUNyQ0EsVUFBVTBFLGFBQWEsQ0FBQyxJQUFJLENBQUN2RCxRQUFRLENBQUNHLENBQUM7UUFDdkMsSUFBSSxDQUFDcUQsWUFBWSxHQUFHLElBQUksQ0FBQ3hELFFBQVEsQ0FBQ0csQ0FBQyxHQUFHL0IsVUFBVXFGLE9BQU87UUFDdkQsSUFBSSxDQUFDQyxLQUFLLEdBQUc7UUFDYixJQUFJL0MsZUFBZXZDLFVBQVV1RixhQUFhLENBQUNwRixHQUFHLENBQUMsSUFBSSxDQUFDakMsTUFBTTtRQUMxRCxJQUFJLENBQUNxRSxjQUFjO1lBQ2ZBLGVBQWUsSUFBSSxDQUFDM0IsT0FBTyxDQUFDNEUsZUFBZSxDQUFDLElBQUksQ0FBQ3RILE1BQU07WUFDdkQsSUFBSXFFLGNBQWM7Z0JBQ2R2QyxVQUFVdUYsYUFBYSxDQUFDRSxHQUFHLENBQUMsSUFBSSxDQUFDdkgsTUFBTSxFQUFFcUU7WUFDN0M7UUFDSjtRQUNBLElBQUlBLHlCQUFBQSxtQ0FBQUEsYUFBY21ELFVBQVUsRUFBRTtZQUMxQixNQUFNbkQsYUFBYW1ELFVBQVUsQ0FBQyxJQUFJO1FBQ3RDO1FBQ0EsSUFBSWhHLGNBQWNNLFVBQVVFLFlBQVksQ0FBQ0MsR0FBRyxDQUFDLElBQUksQ0FBQ3hCLEtBQUs7UUFDdkQsSUFBSSxDQUFDZSxhQUFhO1lBQ2RBLGNBQWMsSUFBSSxDQUFDa0IsT0FBTyxDQUFDK0UsY0FBYyxDQUFDLElBQUksQ0FBQ2hILEtBQUs7WUFDcEQsSUFBSWUsYUFBYTtnQkFDYk0sVUFBVUUsWUFBWSxDQUFDdUYsR0FBRyxDQUFDLElBQUksQ0FBQzlHLEtBQUssRUFBRWU7WUFDM0M7UUFDSjtRQUNBLElBQUlBLHdCQUFBQSxrQ0FBQUEsWUFBYWtHLFNBQVMsRUFBRTtZQUN4QixNQUFNbEcsWUFBWWtHLFNBQVMsQ0FBQyxJQUFJO1FBQ3BDO1FBQ0EsTUFBTUMsZ0JBQWdCbkcsd0JBQUFBLGtDQUFBQSxZQUFhb0csYUFBYTtRQUNoRCxJQUFJRCxlQUFlO1lBQ2YsSUFBSSxDQUFDUCxLQUFLLEdBQUdPLGNBQWMsSUFBSTtRQUNuQztRQUNBLElBQUksQ0FBQ0UsUUFBUSxHQUFHO1FBQ2hCLElBQUksQ0FBQ0MsV0FBVyxHQUFHekkscUVBQWVBLENBQUMsSUFBSSxDQUFDZ0IsT0FBTyxDQUFDMEgsTUFBTSxDQUFDM0UsS0FBSztRQUM1RCxLQUFLLE1BQU1kLFdBQVdDLFVBQVVDLFFBQVEsQ0FBRTtZQUN0QyxNQUFNRixRQUFRNEIsSUFBSSxDQUFDLElBQUk7UUFDM0I7UUFDQSxLQUFLLE1BQU04RCxTQUFTekYsVUFBVTBGLE1BQU0sQ0FBRTtnQkFDNUJEO1lBQU4sUUFBTUEsY0FBQUEsTUFBTTlELElBQUksY0FBVjhELGtDQUFBQSxpQkFBQUEsT0FBYSxJQUFJO1FBQzNCO1FBQ0EsT0FBTTNELHlCQUFBQSxvQ0FBQUEsNkJBQUFBLGFBQWM2RCxZQUFZLGNBQTFCN0QsaURBQUFBLGdDQUFBQSxjQUE2QnZDLFdBQVcsSUFBSTtRQUNsRCxPQUFNTix3QkFBQUEsbUNBQUFBLDRCQUFBQSxZQUFhMEcsWUFBWSxjQUF6QjFHLGdEQUFBQSwrQkFBQUEsYUFBNEJNLFdBQVcsSUFBSTtRQUNqRCxLQUFLLE1BQU0sR0FBR0ssT0FBTyxJQUFJTCxVQUFVTSxPQUFPLENBQUU7Z0JBQ3hDRDthQUFBQSwwQkFBQUEsT0FBT2dHLGVBQWUsY0FBdEJoRyw4Q0FBQUEsNkJBQUFBLFFBQXlCLElBQUk7UUFDakM7SUFDSjtJQUNBaUcsaUJBQWlCO1FBQ2IsTUFBTW5ILFNBQVMsSUFBSSxDQUFDcUMsU0FBUyxJQUFJK0UsYUFBYSxJQUFJLENBQUN2RyxTQUFTLENBQUNpQixNQUFNLENBQUNlLElBQUksRUFBRUosV0FBVyxJQUFJLENBQUNBLFFBQVE7UUFDbEcsT0FBUUEsU0FBU0QsQ0FBQyxJQUFJLENBQUN4QyxVQUNuQnlDLFNBQVNFLENBQUMsSUFBSSxDQUFDM0MsVUFDZnlDLFNBQVNFLENBQUMsSUFBSXlFLFdBQVdDLE1BQU0sR0FBR3JILFVBQ2xDeUMsU0FBU0QsQ0FBQyxJQUFJNEUsV0FBV0UsS0FBSyxHQUFHdEg7SUFDekM7SUFDQXVILFlBQVk7UUFDUixPQUFPLENBQUMsSUFBSSxDQUFDOUcsU0FBUyxJQUFJLENBQUMsSUFBSSxDQUFDbUcsUUFBUSxJQUFJLElBQUksQ0FBQ08sY0FBYztJQUNuRTtJQUNBM0YsUUFBUTtRQUNKLEtBQUssTUFBTUgsV0FBVyxJQUFJLENBQUNSLFNBQVMsQ0FBQ1MsU0FBUyxDQUFDQyxRQUFRLENBQUU7Z0JBQ3JERjthQUFBQSxpQkFBQUEsUUFBUUcsS0FBSyxjQUFiSCxxQ0FBQUEsb0JBQUFBLFNBQWdCLElBQUk7UUFDeEI7SUFDSjtJQTFTQW1HLFlBQVluRSxNQUFNLEVBQUV4QyxTQUFTLENBQUU7O1FBQzNCLElBQUksQ0FBQ0EsU0FBUyxHQUFHQTtRQUNqQixJQUFJLENBQUM0RyxhQUFhLEdBQUcsU0FBQzVHLFdBQVc0QixVQUFVaUY7Z0JBQVFDLDRFQUFXako7WUFDMUQsS0FBSyxNQUFNLEdBQUd3QyxPQUFPLElBQUlMLFVBQVVNLE9BQU8sQ0FBRTtnQkFDeEMsTUFBTXlHLFlBQVkxRyxPQUFPMkcsZ0JBQWdCLEtBQUtDLFlBQVk1RyxPQUFPMkcsZ0JBQWdCLENBQUNwRixtQkFBa0JxRjtnQkFDcEcsSUFBSUYsV0FBVztvQkFDWCxPQUFPckosd0RBQVFBLENBQUN3SixNQUFNLENBQUNILFVBQVVwRixDQUFDLEVBQUVvRixVQUFVakYsQ0FBQyxFQUFFK0U7Z0JBQ3JEO1lBQ0o7WUFDQSxNQUFNTixhQUFhdkcsVUFBVWlCLE1BQU0sQ0FBQ2UsSUFBSSxFQUFFbUYsZ0JBQWdCOUssd0ZBQWlDQSxDQUFDO2dCQUN4RjJGLE1BQU11RTtnQkFDTjNFLFVBQVVBO1lBQ2QsSUFBSXdGLE1BQU0xSix3REFBUUEsQ0FBQ3dKLE1BQU0sQ0FBQ0MsY0FBY3hGLENBQUMsRUFBRXdGLGNBQWNyRixDQUFDLEVBQUUrRSxTQUFTMUgsU0FBUyxNQUFLcUMsU0FBUyxJQUFJNkYsV0FBVyxNQUFLOUksT0FBTyxDQUFDMkYsSUFBSSxDQUFDbUQsUUFBUSxFQUFFQyxnQkFBZ0IsQ0FBQ3RJO2dCQUNwSkYsV0FBVztvQkFDUEU7b0JBQ0FDLFlBQVk7d0JBQUM7cUJBQVM7b0JBQ3RCRyxPQUFPZ0ksSUFBSXpGLENBQUM7b0JBQ1p0QyxVQUFVVyxVQUFVaUIsTUFBTSxDQUFDZSxJQUFJLENBQUN5RSxLQUFLO29CQUNyQ25ILE9BQU8sQ0FBQzJDLFFBQVdtRixJQUFJekYsQ0FBQyxJQUFJTTtvQkFDNUI5QztnQkFDSjtZQUNKLEdBQUdvSSxjQUFjLENBQUN2STtnQkFDZEYsV0FBVztvQkFDUEU7b0JBQ0FDLFlBQVk7d0JBQUM7cUJBQVM7b0JBQ3RCRyxPQUFPZ0ksSUFBSXRGLENBQUM7b0JBQ1p6QyxVQUFVVyxVQUFVaUIsTUFBTSxDQUFDZSxJQUFJLENBQUN3RSxNQUFNO29CQUN0Q2xILE9BQU8sQ0FBQzJDLFFBQVdtRixJQUFJdEYsQ0FBQyxJQUFJRztvQkFDNUI5QztnQkFDSjtZQUNKO2dCQUNja0k7WUFBZEMsY0FBY0QsQ0FBQUEsaUJBQUFBLFNBQVNHLElBQUksY0FBYkgsNEJBQUFBLGlCQUFpQkEsU0FBU0ksT0FBTztnQkFDakNKO1lBQWRDLGNBQWNELENBQUFBLGtCQUFBQSxTQUFTSyxLQUFLLGNBQWRMLDZCQUFBQSxrQkFBa0JBLFNBQVNJLE9BQU87Z0JBQ3BDSjtZQUFaRSxZQUFZRixDQUFBQSxnQkFBQUEsU0FBU00sR0FBRyxjQUFaTiwyQkFBQUEsZ0JBQWdCQSxTQUFTSSxPQUFPO2dCQUNoQ0o7WUFBWkUsWUFBWUYsQ0FBQUEsbUJBQUFBLFNBQVNPLE1BQU0sY0FBZlAsOEJBQUFBLG1CQUFtQkEsU0FBU0ksT0FBTztZQUMvQyxJQUFJLE1BQUtJLGFBQWEsQ0FBQ1QsS0FBS04sV0FBVztnQkFDbkMsTUFBTWdCLFlBQVk7Z0JBQ2xCLE9BQU8sTUFBS2xCLGFBQWEsQ0FBQzVHLFdBQVdpSCxXQUFXSixRQUFRQyxXQUFXZ0I7WUFDdkU7WUFDQSxPQUFPVjtRQUNYO1FBQ0EsSUFBSSxDQUFDdkMsa0JBQWtCLEdBQUc7WUFDdEIsTUFBTWtELGVBQWV0TCw4RUFBdUJBLENBQUMsSUFBSSxDQUFDdUwsU0FBUyxHQUFHQyxNQUFNRixhQUFhaEQsSUFBSSxJQUFJbUQsY0FBYyxJQUFJLENBQUMzSixPQUFPLENBQUMyRixJQUFJO1lBQ3hILElBQUlnRSxZQUFZRixTQUFTLEtBQUssWUFBWUUsWUFBWUYsU0FBUyxLQUFLLFdBQVc7Z0JBQzNFLE9BQU9DO1lBQ1g7WUFDQSxNQUFNRSxNQUFNNUwsK0RBQVFBLENBQUNLLG9FQUFhQSxDQUFDc0wsWUFBWUUsS0FBSyxDQUFDbkcsS0FBSyxJQUFJb0csWUFBWTlMLCtEQUFRQSxDQUFDSyxvRUFBYUEsQ0FBQ3NMLFlBQVlFLEtBQUssQ0FBQ3ZHLE1BQU0sSUFBSXlHLFFBQVE7Z0JBQ2pJZCxNQUFNYSxZQUFZRixNQUFNcEs7Z0JBQ3hCMkosT0FBT1csWUFBWUYsTUFBTXBLO1lBQzdCO1lBQ0EsSUFBSSxDQUFDbUssWUFBWUssUUFBUSxFQUFFO2dCQUN2Qk4sSUFBSUcsS0FBSyxJQUFJdkwsb0VBQWFBLENBQUNDLG9FQUFhQSxDQUFDd0wsTUFBTWQsSUFBSSxFQUFFYyxNQUFNWixLQUFLO1lBQ3BFO1lBQ0EsSUFBSVEsWUFBWU0sTUFBTSxJQUFJLE9BQU9OLFlBQVlPLEtBQUssS0FBSyxVQUFVO2dCQUM3RFIsSUFBSVMsTUFBTSxJQUFJL0wsZ0VBQVNBO1lBQzNCO1lBQ0EsT0FBT3NMO1FBQ1g7UUFDQSxJQUFJLENBQUNKLGFBQWEsR0FBRyxTQUFDVDtnQkFBS04sNEVBQVdqSjtZQUNsQyxNQUFNOEssb0JBQW9CLE1BQUtwSyxPQUFPLENBQUNxSyxVQUFVLEVBQUV6SixTQUFTLE1BQUtxQyxTQUFTO1lBQzFFLElBQUksQ0FBQ21ILGtCQUFrQkUsTUFBTSxFQUFFO2dCQUMzQixPQUFPO1lBQ1g7WUFDQSxNQUFNQyxpQkFBaUJILGtCQUFrQkksT0FBTztZQUNoRCxJQUFJRCxlQUFlRCxNQUFNLEVBQUU7Z0JBQ3ZCLE9BQU87WUFDWDtZQUNBLE1BQU1HLFVBQVVGLGVBQWVFLE9BQU8sRUFBRUMsYUFBYTtZQUNyRCxJQUFJRCxXQUFXQyxjQUFjbkMsV0FBV2tDLFNBQVM7Z0JBQzdDLE1BQU0sSUFBSUUsTUFBTSxHQUFlLE9BQVo5TCw0REFBV0EsRUFBQztZQUNuQztZQUNBLE9BQU8sQ0FBQyxDQUFDLE1BQUs0QyxTQUFTLENBQUNTLFNBQVMsQ0FBQzBJLElBQUksQ0FBQyxDQUFDckksV0FBYXRFLGtFQUFXQSxDQUFDNEssS0FBS3RHLFNBQVNjLFFBQVEsSUFBSXpDLFNBQVMyQixTQUFTVSxTQUFTO1FBQzFIO1FBQ0EsSUFBSSxDQUFDSCxhQUFhLEdBQUcsQ0FBQ0M7WUFDbEIsSUFBSSxDQUFDQSxTQUFTLENBQUMsSUFBSSxDQUFDOEgsSUFBSSxJQUFLLENBQUMsSUFBSSxDQUFDQyxTQUFTLElBQUksQ0FBQyxJQUFJLENBQUNELElBQUksQ0FBQ0UsS0FBSyxFQUFHO2dCQUMvRCxPQUFPaEk7WUFDWDtnQkFDME07WUFBMU0sTUFBTWlJLGFBQWEsR0FBR0MsT0FBTyxHQUFHQyxhQUFhLElBQUksQ0FBQ0wsSUFBSSxDQUFDTSxVQUFVLElBQUksSUFBSSxDQUFDTixJQUFJLENBQUNPLFFBQVEsR0FBRzdMLFNBQVN5TCxhQUFhQSxZQUFZSyxVQUFVLElBQUksQ0FBQ1IsSUFBSSxDQUFDTSxVQUFVLEdBQUdqSSxLQUFLQyxFQUFFLEdBQUczRCxPQUFPeUwsTUFBTUssU0FBU3BJLEtBQUtxSSxLQUFLLENBQUMsQ0FBQyxDQUFDLHdCQUFJLENBQUNWLElBQUksQ0FBQ2hCLEtBQUssY0FBZixpREFBbUJvQixJQUFHLElBQUtJLE9BQU0sSUFBTW5JLENBQUFBLEtBQUtDLEVBQUUsR0FBRytILFVBQVMsS0FBTTNMO1lBQzFRLElBQUksQ0FBQytMLFFBQVE7Z0JBQ1QsT0FBT3ZJO1lBQ1g7WUFDQSxJQUFJLElBQUksQ0FBQytILFNBQVMsRUFBRTtnQkFDaEIsT0FBTyxJQUFJLENBQUNBLFNBQVM7WUFDekI7WUFDQSxJQUFJLElBQUksQ0FBQ0QsSUFBSSxDQUFDRSxLQUFLLEVBQUU7Z0JBQ2pCLE9BQU8zTCwrREFBUUEsQ0FBQzJELE9BQU8sSUFBSSxDQUFDOEgsSUFBSSxDQUFDRSxLQUFLLENBQUMzRixJQUFJLEVBQUUsSUFBSSxDQUFDeUYsSUFBSSxDQUFDRSxLQUFLLENBQUNySCxLQUFLO1lBQ3RFO1lBQ0EsT0FBT1g7UUFDWDtRQUNBLElBQUksQ0FBQ3FELGFBQWEsR0FBRyxDQUFDL0M7WUFDbEIsTUFBTTVCLFlBQVksSUFBSSxDQUFDQSxTQUFTLEVBQUUrSixjQUFjbk4sb0VBQWFBLENBQUMsSUFBSSxDQUFDMkIsT0FBTyxDQUFDc0ksTUFBTSxDQUFDNUUsS0FBSyxHQUFHK0gsT0FBTztZQUNqRyxJQUFJLENBQUNwSSxRQUFRLEdBQUcsSUFBSSxDQUFDZ0YsYUFBYSxDQUFDNUcsV0FBVzRCLFVBQVV0Riw0REFBS0EsQ0FBQ3lOLGFBQWFDLE1BQU1oSyxVQUFVcUYsT0FBTztZQUNsRyxJQUFJLENBQUM0RSxlQUFlLEdBQUcsSUFBSSxDQUFDckksUUFBUSxDQUFDbUQsSUFBSTtZQUN6QyxNQUFNd0IsYUFBYXZHLFVBQVVpQixNQUFNLENBQUNlLElBQUksRUFBRWtJLGdCQUFnQjtnQkFHOUMsa0NBQ0Y7WUFIVixJQUFJLENBQUNDLFVBQVUsR0FBRztnQkFDZCxHQUFHbk4sNERBQVdBLENBQUMsSUFBSSxDQUFDdUIsT0FBTyxDQUFDMkYsSUFBSSxDQUFDa0csTUFBTSxFQUFFN0QsV0FBVztnQkFDcERwSCxRQUFRLHdDQUFJLENBQUNaLE9BQU8sQ0FBQzJGLElBQUksQ0FBQ2tHLE1BQU0sQ0FBQ2pMLE1BQU0sY0FBL0IsaUZBQW1DK0s7Z0JBQzNDRyxNQUFNLHNDQUFJLENBQUM5TCxPQUFPLENBQUMyRixJQUFJLENBQUNrRyxNQUFNLENBQUNDLElBQUksY0FBN0IsNkVBQWlDO1lBQzNDO1lBQ0EsSUFBSSxDQUFDckMsU0FBUyxHQUFHdEwsZ0ZBQXlCQSxDQUFDLElBQUksQ0FBQzZCLE9BQU8sQ0FBQzJGLElBQUksQ0FBQzhELFNBQVMsRUFBRSxJQUFJLENBQUNwRyxRQUFRLEVBQUUsSUFBSSxDQUFDdUksVUFBVTtZQUN0RyxPQUFRLElBQUksQ0FBQzVMLE9BQU8sQ0FBQzJGLElBQUksQ0FBQzhELFNBQVM7Z0JBQy9CLEtBQUs7b0JBQ0QsSUFBSSxDQUFDN0UsT0FBTyxHQUFHO29CQUNmO2dCQUNKLEtBQUs7b0JBQ0QsSUFBSSxDQUFDQSxPQUFPLEdBQUc7b0JBQ2Y7WUFDUjtZQUNBLElBQUksQ0FBQ3RCLE1BQU0sR0FBR3BFLG9EQUFNQSxDQUFDNk0sTUFBTTtRQUMvQjtRQUNBLElBQUksQ0FBQzFKLE9BQU8sR0FBRzRCO0lBQ25CO0FBNExKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AdHNwYXJ0aWNsZXMvZW5naW5lL2Jyb3dzZXIvQ29yZS9QYXJ0aWNsZS5qcz9lOTQxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNhbGNFeGFjdFBvc2l0aW9uT3JSYW5kb21Gcm9tU2l6ZSwgY2xhbXAsIGRlZ1RvUmFkLCBnZXREaXN0YW5jZSwgZ2V0UGFydGljbGVCYXNlVmVsb2NpdHksIGdldFBhcnRpY2xlRGlyZWN0aW9uQW5nbGUsIGdldFJhbmRvbSwgZ2V0UmFuZ2VWYWx1ZSwgcmFuZG9tSW5SYW5nZSwgc2V0UmFuZ2VWYWx1ZSwgfSBmcm9tIFwiLi4vVXRpbHMvTnVtYmVyVXRpbHMuanNcIjtcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGdldFBvc2l0aW9uLCBpbml0UGFydGljbGVOdW1lcmljQW5pbWF0aW9uVmFsdWUsIGlzSW5BcnJheSwgaXRlbUZyb21TaW5nbGVPck11bHRpcGxlLCB9IGZyb20gXCIuLi9VdGlscy9VdGlscy5qc1wiO1xuaW1wb3J0IHsgZXJyb3JQcmVmaXgsIG1pbGxpc2Vjb25kc1RvU2Vjb25kcyB9IGZyb20gXCIuL1V0aWxzL0NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHsgZ2V0SHNsRnJvbUFuaW1hdGlvbiwgcmFuZ2VDb2xvclRvUmdiIH0gZnJvbSBcIi4uL1V0aWxzL0NvbG9yVXRpbHMuanNcIjtcbmltcG9ydCB7IEludGVyYWN0aXZpdHkgfSBmcm9tIFwiLi4vT3B0aW9ucy9DbGFzc2VzL0ludGVyYWN0aXZpdHkvSW50ZXJhY3Rpdml0eS5qc1wiO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcIi4vVXRpbHMvVmVjdG9yLmpzXCI7XG5pbXBvcnQgeyBWZWN0b3IzZCB9IGZyb20gXCIuL1V0aWxzL1ZlY3RvcjNkLmpzXCI7XG5pbXBvcnQgeyBhbHRlckhzbCB9IGZyb20gXCIuLi9VdGlscy9DYW52YXNVdGlscy5qc1wiO1xuaW1wb3J0IHsgbG9hZFBhcnRpY2xlc09wdGlvbnMgfSBmcm9tIFwiLi4vVXRpbHMvT3B0aW9uc1V0aWxzLmpzXCI7XG5jb25zdCBkZWZhdWx0UmV0cnlDb3VudCA9IDAsIGRvdWJsZSA9IDIsIGhhbGYgPSAwLjUsIHNxdWFyZUV4cCA9IDI7XG5mdW5jdGlvbiBsb2FkRWZmZWN0RGF0YShlZmZlY3QsIGVmZmVjdE9wdGlvbnMsIGlkLCByZWR1Y2VEdXBsaWNhdGVzKSB7XG4gICAgY29uc3QgZWZmZWN0RGF0YSA9IGVmZmVjdE9wdGlvbnMub3B0aW9uc1tlZmZlY3RdO1xuICAgIGlmICghZWZmZWN0RGF0YSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBkZWVwRXh0ZW5kKHtcbiAgICAgICAgY2xvc2U6IGVmZmVjdE9wdGlvbnMuY2xvc2UsXG4gICAgICAgIGZpbGw6IGVmZmVjdE9wdGlvbnMuZmlsbCxcbiAgICB9LCBpdGVtRnJvbVNpbmdsZU9yTXVsdGlwbGUoZWZmZWN0RGF0YSwgaWQsIHJlZHVjZUR1cGxpY2F0ZXMpKTtcbn1cbmZ1bmN0aW9uIGxvYWRTaGFwZURhdGEoc2hhcGUsIHNoYXBlT3B0aW9ucywgaWQsIHJlZHVjZUR1cGxpY2F0ZXMpIHtcbiAgICBjb25zdCBzaGFwZURhdGEgPSBzaGFwZU9wdGlvbnMub3B0aW9uc1tzaGFwZV07XG4gICAgaWYgKCFzaGFwZURhdGEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gZGVlcEV4dGVuZCh7XG4gICAgICAgIGNsb3NlOiBzaGFwZU9wdGlvbnMuY2xvc2UsXG4gICAgICAgIGZpbGw6IHNoYXBlT3B0aW9ucy5maWxsLFxuICAgIH0sIGl0ZW1Gcm9tU2luZ2xlT3JNdWx0aXBsZShzaGFwZURhdGEsIGlkLCByZWR1Y2VEdXBsaWNhdGVzKSk7XG59XG5mdW5jdGlvbiBmaXhPdXRNb2RlKGRhdGEpIHtcbiAgICBpZiAoIWlzSW5BcnJheShkYXRhLm91dE1vZGUsIGRhdGEuY2hlY2tNb2RlcykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkaWFtZXRlciA9IGRhdGEucmFkaXVzICogZG91YmxlO1xuICAgIGlmIChkYXRhLmNvb3JkID4gZGF0YS5tYXhDb29yZCAtIGRpYW1ldGVyKSB7XG4gICAgICAgIGRhdGEuc2V0Q2IoLWRhdGEucmFkaXVzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZGF0YS5jb29yZCA8IGRpYW1ldGVyKSB7XG4gICAgICAgIGRhdGEuc2V0Q2IoZGF0YS5yYWRpdXMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQYXJ0aWNsZSB7XG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBjb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuX2NhbGNQb3NpdGlvbiA9IChjb250YWluZXIsIHBvc2l0aW9uLCB6SW5kZXgsIHRyeUNvdW50ID0gZGVmYXVsdFJldHJ5Q291bnQpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgWywgcGx1Z2luXSBvZiBjb250YWluZXIucGx1Z2lucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBsdWdpblBvcyA9IHBsdWdpbi5wYXJ0aWNsZVBvc2l0aW9uICE9PSB1bmRlZmluZWQgPyBwbHVnaW4ucGFydGljbGVQb3NpdGlvbihwb3NpdGlvbiwgdGhpcykgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpblBvcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVmVjdG9yM2QuY3JlYXRlKHBsdWdpblBvcy54LCBwbHVnaW5Qb3MueSwgekluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYW52YXNTaXplID0gY29udGFpbmVyLmNhbnZhcy5zaXplLCBleGFjdFBvc2l0aW9uID0gY2FsY0V4YWN0UG9zaXRpb25PclJhbmRvbUZyb21TaXplKHtcbiAgICAgICAgICAgICAgICBzaXplOiBjYW52YXNTaXplLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgICAgICAgIH0pLCBwb3MgPSBWZWN0b3IzZC5jcmVhdGUoZXhhY3RQb3NpdGlvbi54LCBleGFjdFBvc2l0aW9uLnksIHpJbmRleCksIHJhZGl1cyA9IHRoaXMuZ2V0UmFkaXVzKCksIG91dE1vZGVzID0gdGhpcy5vcHRpb25zLm1vdmUub3V0TW9kZXMsIGZpeEhvcml6b250YWwgPSAob3V0TW9kZSkgPT4ge1xuICAgICAgICAgICAgICAgIGZpeE91dE1vZGUoe1xuICAgICAgICAgICAgICAgICAgICBvdXRNb2RlLFxuICAgICAgICAgICAgICAgICAgICBjaGVja01vZGVzOiBbXCJib3VuY2VcIl0sXG4gICAgICAgICAgICAgICAgICAgIGNvb3JkOiBwb3MueCxcbiAgICAgICAgICAgICAgICAgICAgbWF4Q29vcmQ6IGNvbnRhaW5lci5jYW52YXMuc2l6ZS53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2I6ICh2YWx1ZSkgPT4gKHBvcy54ICs9IHZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgZml4VmVydGljYWwgPSAob3V0TW9kZSkgPT4ge1xuICAgICAgICAgICAgICAgIGZpeE91dE1vZGUoe1xuICAgICAgICAgICAgICAgICAgICBvdXRNb2RlLFxuICAgICAgICAgICAgICAgICAgICBjaGVja01vZGVzOiBbXCJib3VuY2VcIl0sXG4gICAgICAgICAgICAgICAgICAgIGNvb3JkOiBwb3MueSxcbiAgICAgICAgICAgICAgICAgICAgbWF4Q29vcmQ6IGNvbnRhaW5lci5jYW52YXMuc2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHNldENiOiAodmFsdWUpID0+IChwb3MueSArPSB2YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIHJhZGl1cyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmaXhIb3Jpem9udGFsKG91dE1vZGVzLmxlZnQgPz8gb3V0TW9kZXMuZGVmYXVsdCk7XG4gICAgICAgICAgICBmaXhIb3Jpem9udGFsKG91dE1vZGVzLnJpZ2h0ID8/IG91dE1vZGVzLmRlZmF1bHQpO1xuICAgICAgICAgICAgZml4VmVydGljYWwob3V0TW9kZXMudG9wID8/IG91dE1vZGVzLmRlZmF1bHQpO1xuICAgICAgICAgICAgZml4VmVydGljYWwob3V0TW9kZXMuYm90dG9tID8/IG91dE1vZGVzLmRlZmF1bHQpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NoZWNrT3ZlcmxhcChwb3MsIHRyeUNvdW50KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluY3JlbWVudCA9IDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhbGNQb3NpdGlvbihjb250YWluZXIsIHVuZGVmaW5lZCwgekluZGV4LCB0cnlDb3VudCArIGluY3JlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcG9zO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9jYWxjdWxhdGVWZWxvY2l0eSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VWZWxvY2l0eSA9IGdldFBhcnRpY2xlQmFzZVZlbG9jaXR5KHRoaXMuZGlyZWN0aW9uKSwgcmVzID0gYmFzZVZlbG9jaXR5LmNvcHkoKSwgbW92ZU9wdGlvbnMgPSB0aGlzLm9wdGlvbnMubW92ZTtcbiAgICAgICAgICAgIGlmIChtb3ZlT3B0aW9ucy5kaXJlY3Rpb24gPT09IFwiaW5zaWRlXCIgfHwgbW92ZU9wdGlvbnMuZGlyZWN0aW9uID09PSBcIm91dHNpZGVcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByYWQgPSBkZWdUb1JhZChnZXRSYW5nZVZhbHVlKG1vdmVPcHRpb25zLmFuZ2xlLnZhbHVlKSksIHJhZE9mZnNldCA9IGRlZ1RvUmFkKGdldFJhbmdlVmFsdWUobW92ZU9wdGlvbnMuYW5nbGUub2Zmc2V0KSksIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgIGxlZnQ6IHJhZE9mZnNldCAtIHJhZCAqIGhhbGYsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IHJhZE9mZnNldCArIHJhZCAqIGhhbGYsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCFtb3ZlT3B0aW9ucy5zdHJhaWdodCkge1xuICAgICAgICAgICAgICAgIHJlcy5hbmdsZSArPSByYW5kb21JblJhbmdlKHNldFJhbmdlVmFsdWUocmFuZ2UubGVmdCwgcmFuZ2UucmlnaHQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb3ZlT3B0aW9ucy5yYW5kb20gJiYgdHlwZW9mIG1vdmVPcHRpb25zLnNwZWVkID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgcmVzLmxlbmd0aCAqPSBnZXRSYW5kb20oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2NoZWNrT3ZlcmxhcCA9IChwb3MsIHRyeUNvdW50ID0gZGVmYXVsdFJldHJ5Q291bnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbGxpc2lvbnNPcHRpb25zID0gdGhpcy5vcHRpb25zLmNvbGxpc2lvbnMsIHJhZGl1cyA9IHRoaXMuZ2V0UmFkaXVzKCk7XG4gICAgICAgICAgICBpZiAoIWNvbGxpc2lvbnNPcHRpb25zLmVuYWJsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG92ZXJsYXBPcHRpb25zID0gY29sbGlzaW9uc09wdGlvbnMub3ZlcmxhcDtcbiAgICAgICAgICAgIGlmIChvdmVybGFwT3B0aW9ucy5lbmFibGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXRyaWVzID0gb3ZlcmxhcE9wdGlvbnMucmV0cmllcywgbWluUmV0cmllcyA9IDA7XG4gICAgICAgICAgICBpZiAocmV0cmllcyA+PSBtaW5SZXRyaWVzICYmIHRyeUNvdW50ID4gcmV0cmllcykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtlcnJvclByZWZpeH0gcGFydGljbGUgaXMgb3ZlcmxhcHBpbmcgYW5kIGNhbid0IGJlIHBsYWNlZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5jb250YWluZXIucGFydGljbGVzLmZpbmQoKHBhcnRpY2xlKSA9PiBnZXREaXN0YW5jZShwb3MsIHBhcnRpY2xlLnBvc2l0aW9uKSA8IHJhZGl1cyArIHBhcnRpY2xlLmdldFJhZGl1cygpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fZ2V0Um9sbENvbG9yID0gKGNvbG9yKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNvbG9yIHx8ICF0aGlzLnJvbGwgfHwgKCF0aGlzLmJhY2tDb2xvciAmJiAhdGhpcy5yb2xsLmFsdGVyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJvbGxGYWN0b3IgPSAxLCBub25lID0gMCwgYmFja0ZhY3RvciA9IHRoaXMucm9sbC5ob3Jpem9udGFsICYmIHRoaXMucm9sbC52ZXJ0aWNhbCA/IGRvdWJsZSAqIHJvbGxGYWN0b3IgOiByb2xsRmFjdG9yLCBiYWNrU3VtID0gdGhpcy5yb2xsLmhvcml6b250YWwgPyBNYXRoLlBJICogaGFsZiA6IG5vbmUsIHJvbGxlZCA9IE1hdGguZmxvb3IoKCh0aGlzLnJvbGwuYW5nbGUgPz8gbm9uZSkgKyBiYWNrU3VtKSAvIChNYXRoLlBJIC8gYmFja0ZhY3RvcikpICUgZG91YmxlO1xuICAgICAgICAgICAgaWYgKCFyb2xsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5iYWNrQ29sb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5iYWNrQ29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5yb2xsLmFsdGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFsdGVySHNsKGNvbG9yLCB0aGlzLnJvbGwuYWx0ZXIudHlwZSwgdGhpcy5yb2xsLmFsdGVyLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5faW5pdFBvc2l0aW9uID0gKHBvc2l0aW9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lciwgekluZGV4VmFsdWUgPSBnZXRSYW5nZVZhbHVlKHRoaXMub3B0aW9ucy56SW5kZXgudmFsdWUpLCBtaW5aID0gMDtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLl9jYWxjUG9zaXRpb24oY29udGFpbmVyLCBwb3NpdGlvbiwgY2xhbXAoekluZGV4VmFsdWUsIG1pblosIGNvbnRhaW5lci56TGF5ZXJzKSk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxQb3NpdGlvbiA9IHRoaXMucG9zaXRpb24uY29weSgpO1xuICAgICAgICAgICAgY29uc3QgY2FudmFzU2l6ZSA9IGNvbnRhaW5lci5jYW52YXMuc2l6ZSwgZGVmYXVsdFJhZGl1cyA9IDA7XG4gICAgICAgICAgICB0aGlzLm1vdmVDZW50ZXIgPSB7XG4gICAgICAgICAgICAgICAgLi4uZ2V0UG9zaXRpb24odGhpcy5vcHRpb25zLm1vdmUuY2VudGVyLCBjYW52YXNTaXplKSxcbiAgICAgICAgICAgICAgICByYWRpdXM6IHRoaXMub3B0aW9ucy5tb3ZlLmNlbnRlci5yYWRpdXMgPz8gZGVmYXVsdFJhZGl1cyxcbiAgICAgICAgICAgICAgICBtb2RlOiB0aGlzLm9wdGlvbnMubW92ZS5jZW50ZXIubW9kZSA/PyBcInBlcmNlbnRcIixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGdldFBhcnRpY2xlRGlyZWN0aW9uQW5nbGUodGhpcy5vcHRpb25zLm1vdmUuZGlyZWN0aW9uLCB0aGlzLnBvc2l0aW9uLCB0aGlzLm1vdmVDZW50ZXIpO1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLm9wdGlvbnMubW92ZS5kaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiaW5zaWRlXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0VHlwZSA9IFwiaW5zaWRlXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvdXRzaWRlXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0VHlwZSA9IFwib3V0c2lkZVwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub2Zmc2V0ID0gVmVjdG9yLm9yaWdpbjtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xuICAgIH1cbiAgICBkZXN0cm95KG92ZXJyaWRlKSB7XG4gICAgICAgIGlmICh0aGlzLnVuYnJlYWthYmxlIHx8IHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmJ1YmJsZS5pblJhbmdlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2xvdy5pblJhbmdlID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLCBwYXRoR2VuZXJhdG9yID0gdGhpcy5wYXRoR2VuZXJhdG9yLCBzaGFwZURyYXdlciA9IGNvbnRhaW5lci5zaGFwZURyYXdlcnMuZ2V0KHRoaXMuc2hhcGUpO1xuICAgICAgICBzaGFwZURyYXdlcj8ucGFydGljbGVEZXN0cm95Py4odGhpcyk7XG4gICAgICAgIGZvciAoY29uc3QgWywgcGx1Z2luXSBvZiBjb250YWluZXIucGx1Z2lucykge1xuICAgICAgICAgICAgcGx1Z2luLnBhcnRpY2xlRGVzdHJveWVkPy4odGhpcywgb3ZlcnJpZGUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdXBkYXRlciBvZiBjb250YWluZXIucGFydGljbGVzLnVwZGF0ZXJzKSB7XG4gICAgICAgICAgICB1cGRhdGVyLnBhcnRpY2xlRGVzdHJveWVkPy4odGhpcywgb3ZlcnJpZGUpO1xuICAgICAgICB9XG4gICAgICAgIHBhdGhHZW5lcmF0b3I/LnJlc2V0KHRoaXMpO1xuICAgICAgICB0aGlzLl9lbmdpbmUuZGlzcGF0Y2hFdmVudChcInBhcnRpY2xlRGVzdHJveWVkXCIsIHtcbiAgICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgcGFydGljbGU6IHRoaXMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgZHJhdyhkZWx0YSkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lciwgY2FudmFzID0gY29udGFpbmVyLmNhbnZhcztcbiAgICAgICAgZm9yIChjb25zdCBbLCBwbHVnaW5dIG9mIGNvbnRhaW5lci5wbHVnaW5zKSB7XG4gICAgICAgICAgICBhd2FpdCBjYW52YXMuZHJhd1BhcnRpY2xlUGx1Z2luKHBsdWdpbiwgdGhpcywgZGVsdGEpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IGNhbnZhcy5kcmF3UGFydGljbGUodGhpcywgZGVsdGEpO1xuICAgIH1cbiAgICBnZXRGaWxsQ29sb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRSb2xsQ29sb3IodGhpcy5idWJibGUuY29sb3IgPz8gZ2V0SHNsRnJvbUFuaW1hdGlvbih0aGlzLmNvbG9yKSk7XG4gICAgfVxuICAgIGdldE1hc3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFJhZGl1cygpICoqIHNxdWFyZUV4cCAqIE1hdGguUEkgKiBoYWxmO1xuICAgIH1cbiAgICBnZXRQb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHRoaXMucG9zaXRpb24ueCArIHRoaXMub2Zmc2V0LngsXG4gICAgICAgICAgICB5OiB0aGlzLnBvc2l0aW9uLnkgKyB0aGlzLm9mZnNldC55LFxuICAgICAgICAgICAgejogdGhpcy5wb3NpdGlvbi56LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRSYWRpdXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1YmJsZS5yYWRpdXMgPz8gdGhpcy5zaXplLnZhbHVlO1xuICAgIH1cbiAgICBnZXRTdHJva2VDb2xvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFJvbGxDb2xvcih0aGlzLmJ1YmJsZS5jb2xvciA/PyBnZXRIc2xGcm9tQW5pbWF0aW9uKHRoaXMuc3Ryb2tlQ29sb3IpKTtcbiAgICB9XG4gICAgYXN5bmMgaW5pdChpZCwgcG9zaXRpb24sIG92ZXJyaWRlT3B0aW9ucywgZ3JvdXApIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsIGVuZ2luZSA9IHRoaXMuX2VuZ2luZTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmdyb3VwID0gZ3JvdXA7XG4gICAgICAgIHRoaXMuZWZmZWN0Q2xvc2UgPSB0cnVlO1xuICAgICAgICB0aGlzLmVmZmVjdEZpbGwgPSB0cnVlO1xuICAgICAgICB0aGlzLnNoYXBlQ2xvc2UgPSB0cnVlO1xuICAgICAgICB0aGlzLnNoYXBlRmlsbCA9IHRydWU7XG4gICAgICAgIHRoaXMucGF0aFJvdGF0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGFzdFBhdGhUaW1lID0gMDtcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51bmJyZWFrYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gMDtcbiAgICAgICAgdGhpcy5taXNwbGFjZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXRpbmEgPSB7XG4gICAgICAgICAgICBtYXhEaXN0YW5jZToge30sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub3V0VHlwZSA9IFwibm9ybWFsXCI7XG4gICAgICAgIHRoaXMuaWdub3Jlc1Jlc2l6ZVJhdGlvID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgcHhSYXRpbyA9IGNvbnRhaW5lci5yZXRpbmEucGl4ZWxSYXRpbywgbWFpbk9wdGlvbnMgPSBjb250YWluZXIuYWN0dWFsT3B0aW9ucywgcGFydGljbGVzT3B0aW9ucyA9IGxvYWRQYXJ0aWNsZXNPcHRpb25zKHRoaXMuX2VuZ2luZSwgY29udGFpbmVyLCBtYWluT3B0aW9ucy5wYXJ0aWNsZXMpLCBlZmZlY3RUeXBlID0gcGFydGljbGVzT3B0aW9ucy5lZmZlY3QudHlwZSwgc2hhcGVUeXBlID0gcGFydGljbGVzT3B0aW9ucy5zaGFwZS50eXBlLCB7IHJlZHVjZUR1cGxpY2F0ZXMgfSA9IHBhcnRpY2xlc09wdGlvbnM7XG4gICAgICAgIHRoaXMuZWZmZWN0ID0gaXRlbUZyb21TaW5nbGVPck11bHRpcGxlKGVmZmVjdFR5cGUsIHRoaXMuaWQsIHJlZHVjZUR1cGxpY2F0ZXMpO1xuICAgICAgICB0aGlzLnNoYXBlID0gaXRlbUZyb21TaW5nbGVPck11bHRpcGxlKHNoYXBlVHlwZSwgdGhpcy5pZCwgcmVkdWNlRHVwbGljYXRlcyk7XG4gICAgICAgIGNvbnN0IGVmZmVjdE9wdGlvbnMgPSBwYXJ0aWNsZXNPcHRpb25zLmVmZmVjdCwgc2hhcGVPcHRpb25zID0gcGFydGljbGVzT3B0aW9ucy5zaGFwZTtcbiAgICAgICAgaWYgKG92ZXJyaWRlT3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKG92ZXJyaWRlT3B0aW9ucy5lZmZlY3Q/LnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdmVycmlkZUVmZmVjdFR5cGUgPSBvdmVycmlkZU9wdGlvbnMuZWZmZWN0LnR5cGUsIGVmZmVjdCA9IGl0ZW1Gcm9tU2luZ2xlT3JNdWx0aXBsZShvdmVycmlkZUVmZmVjdFR5cGUsIHRoaXMuaWQsIHJlZHVjZUR1cGxpY2F0ZXMpO1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZmZlY3QgPSBlZmZlY3Q7XG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdE9wdGlvbnMubG9hZChvdmVycmlkZU9wdGlvbnMuZWZmZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3ZlcnJpZGVPcHRpb25zLnNoYXBlPy50eXBlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3ZlcnJpZGVTaGFwZVR5cGUgPSBvdmVycmlkZU9wdGlvbnMuc2hhcGUudHlwZSwgc2hhcGUgPSBpdGVtRnJvbVNpbmdsZU9yTXVsdGlwbGUob3ZlcnJpZGVTaGFwZVR5cGUsIHRoaXMuaWQsIHJlZHVjZUR1cGxpY2F0ZXMpO1xuICAgICAgICAgICAgICAgIGlmIChzaGFwZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYXBlID0gc2hhcGU7XG4gICAgICAgICAgICAgICAgICAgIHNoYXBlT3B0aW9ucy5sb2FkKG92ZXJyaWRlT3B0aW9ucy5zaGFwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWZmZWN0RGF0YSA9IGxvYWRFZmZlY3REYXRhKHRoaXMuZWZmZWN0LCBlZmZlY3RPcHRpb25zLCB0aGlzLmlkLCByZWR1Y2VEdXBsaWNhdGVzKTtcbiAgICAgICAgdGhpcy5zaGFwZURhdGEgPSBsb2FkU2hhcGVEYXRhKHRoaXMuc2hhcGUsIHNoYXBlT3B0aW9ucywgdGhpcy5pZCwgcmVkdWNlRHVwbGljYXRlcyk7XG4gICAgICAgIHBhcnRpY2xlc09wdGlvbnMubG9hZChvdmVycmlkZU9wdGlvbnMpO1xuICAgICAgICBjb25zdCBlZmZlY3REYXRhID0gdGhpcy5lZmZlY3REYXRhO1xuICAgICAgICBpZiAoZWZmZWN0RGF0YSkge1xuICAgICAgICAgICAgcGFydGljbGVzT3B0aW9ucy5sb2FkKGVmZmVjdERhdGEucGFydGljbGVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaGFwZURhdGEgPSB0aGlzLnNoYXBlRGF0YTtcbiAgICAgICAgaWYgKHNoYXBlRGF0YSkge1xuICAgICAgICAgICAgcGFydGljbGVzT3B0aW9ucy5sb2FkKHNoYXBlRGF0YS5wYXJ0aWNsZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGludGVyYWN0aXZpdHkgPSBuZXcgSW50ZXJhY3Rpdml0eShlbmdpbmUsIGNvbnRhaW5lcik7XG4gICAgICAgIGludGVyYWN0aXZpdHkubG9hZChjb250YWluZXIuYWN0dWFsT3B0aW9ucy5pbnRlcmFjdGl2aXR5KTtcbiAgICAgICAgaW50ZXJhY3Rpdml0eS5sb2FkKHBhcnRpY2xlc09wdGlvbnMuaW50ZXJhY3Rpdml0eSk7XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpdml0eSA9IGludGVyYWN0aXZpdHk7XG4gICAgICAgIHRoaXMuZWZmZWN0RmlsbCA9IGVmZmVjdERhdGE/LmZpbGwgPz8gcGFydGljbGVzT3B0aW9ucy5lZmZlY3QuZmlsbDtcbiAgICAgICAgdGhpcy5lZmZlY3RDbG9zZSA9IGVmZmVjdERhdGE/LmNsb3NlID8/IHBhcnRpY2xlc09wdGlvbnMuZWZmZWN0LmNsb3NlO1xuICAgICAgICB0aGlzLnNoYXBlRmlsbCA9IHNoYXBlRGF0YT8uZmlsbCA/PyBwYXJ0aWNsZXNPcHRpb25zLnNoYXBlLmZpbGw7XG4gICAgICAgIHRoaXMuc2hhcGVDbG9zZSA9IHNoYXBlRGF0YT8uY2xvc2UgPz8gcGFydGljbGVzT3B0aW9ucy5zaGFwZS5jbG9zZTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gcGFydGljbGVzT3B0aW9ucztcbiAgICAgICAgY29uc3QgcGF0aE9wdGlvbnMgPSB0aGlzLm9wdGlvbnMubW92ZS5wYXRoO1xuICAgICAgICB0aGlzLnBhdGhEZWxheSA9IGdldFJhbmdlVmFsdWUocGF0aE9wdGlvbnMuZGVsYXkudmFsdWUpICogbWlsbGlzZWNvbmRzVG9TZWNvbmRzO1xuICAgICAgICBpZiAocGF0aE9wdGlvbnMuZ2VuZXJhdG9yKSB7XG4gICAgICAgICAgICB0aGlzLnBhdGhHZW5lcmF0b3IgPSB0aGlzLl9lbmdpbmUuZ2V0UGF0aEdlbmVyYXRvcihwYXRoT3B0aW9ucy5nZW5lcmF0b3IpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGF0aEdlbmVyYXRvciAmJiBjb250YWluZXIuYWRkUGF0aChwYXRoT3B0aW9ucy5nZW5lcmF0b3IsIHRoaXMucGF0aEdlbmVyYXRvcikpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBhdGhHZW5lcmF0b3IuaW5pdChjb250YWluZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lci5yZXRpbmEuaW5pdFBhcnRpY2xlKHRoaXMpO1xuICAgICAgICB0aGlzLnNpemUgPSBpbml0UGFydGljbGVOdW1lcmljQW5pbWF0aW9uVmFsdWUodGhpcy5vcHRpb25zLnNpemUsIHB4UmF0aW8pO1xuICAgICAgICB0aGlzLmJ1YmJsZSA9IHtcbiAgICAgICAgICAgIGluUmFuZ2U6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNsb3cgPSB7XG4gICAgICAgICAgICBpblJhbmdlOiBmYWxzZSxcbiAgICAgICAgICAgIGZhY3RvcjogMSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5faW5pdFBvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5pbml0aWFsVmVsb2NpdHkgPSB0aGlzLl9jYWxjdWxhdGVWZWxvY2l0eSgpO1xuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gdGhpcy5pbml0aWFsVmVsb2NpdHkuY29weSgpO1xuICAgICAgICBjb25zdCBkZWNheU9mZnNldCA9IDE7XG4gICAgICAgIHRoaXMubW92ZURlY2F5ID0gZGVjYXlPZmZzZXQgLSBnZXRSYW5nZVZhbHVlKHRoaXMub3B0aW9ucy5tb3ZlLmRlY2F5KTtcbiAgICAgICAgY29uc3QgcGFydGljbGVzID0gY29udGFpbmVyLnBhcnRpY2xlcztcbiAgICAgICAgcGFydGljbGVzLnNldExhc3RaSW5kZXgodGhpcy5wb3NpdGlvbi56KTtcbiAgICAgICAgdGhpcy56SW5kZXhGYWN0b3IgPSB0aGlzLnBvc2l0aW9uLnogLyBjb250YWluZXIuekxheWVycztcbiAgICAgICAgdGhpcy5zaWRlcyA9IDI0O1xuICAgICAgICBsZXQgZWZmZWN0RHJhd2VyID0gY29udGFpbmVyLmVmZmVjdERyYXdlcnMuZ2V0KHRoaXMuZWZmZWN0KTtcbiAgICAgICAgaWYgKCFlZmZlY3REcmF3ZXIpIHtcbiAgICAgICAgICAgIGVmZmVjdERyYXdlciA9IHRoaXMuX2VuZ2luZS5nZXRFZmZlY3REcmF3ZXIodGhpcy5lZmZlY3QpO1xuICAgICAgICAgICAgaWYgKGVmZmVjdERyYXdlcikge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5lZmZlY3REcmF3ZXJzLnNldCh0aGlzLmVmZmVjdCwgZWZmZWN0RHJhd2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZWZmZWN0RHJhd2VyPy5sb2FkRWZmZWN0KSB7XG4gICAgICAgICAgICBhd2FpdCBlZmZlY3REcmF3ZXIubG9hZEVmZmVjdCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2hhcGVEcmF3ZXIgPSBjb250YWluZXIuc2hhcGVEcmF3ZXJzLmdldCh0aGlzLnNoYXBlKTtcbiAgICAgICAgaWYgKCFzaGFwZURyYXdlcikge1xuICAgICAgICAgICAgc2hhcGVEcmF3ZXIgPSB0aGlzLl9lbmdpbmUuZ2V0U2hhcGVEcmF3ZXIodGhpcy5zaGFwZSk7XG4gICAgICAgICAgICBpZiAoc2hhcGVEcmF3ZXIpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuc2hhcGVEcmF3ZXJzLnNldCh0aGlzLnNoYXBlLCBzaGFwZURyYXdlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNoYXBlRHJhd2VyPy5sb2FkU2hhcGUpIHtcbiAgICAgICAgICAgIGF3YWl0IHNoYXBlRHJhd2VyLmxvYWRTaGFwZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaWRlQ291bnRGdW5jID0gc2hhcGVEcmF3ZXI/LmdldFNpZGVzQ291bnQ7XG4gICAgICAgIGlmIChzaWRlQ291bnRGdW5jKSB7XG4gICAgICAgICAgICB0aGlzLnNpZGVzID0gc2lkZUNvdW50RnVuYyh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNwYXduaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2hhZG93Q29sb3IgPSByYW5nZUNvbG9yVG9SZ2IodGhpcy5vcHRpb25zLnNoYWRvdy5jb2xvcik7XG4gICAgICAgIGZvciAoY29uc3QgdXBkYXRlciBvZiBwYXJ0aWNsZXMudXBkYXRlcnMpIHtcbiAgICAgICAgICAgIGF3YWl0IHVwZGF0ZXIuaW5pdCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IG1vdmVyIG9mIHBhcnRpY2xlcy5tb3ZlcnMpIHtcbiAgICAgICAgICAgIGF3YWl0IG1vdmVyLmluaXQ/Lih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBlZmZlY3REcmF3ZXI/LnBhcnRpY2xlSW5pdD8uKGNvbnRhaW5lciwgdGhpcyk7XG4gICAgICAgIGF3YWl0IHNoYXBlRHJhd2VyPy5wYXJ0aWNsZUluaXQ/Lihjb250YWluZXIsIHRoaXMpO1xuICAgICAgICBmb3IgKGNvbnN0IFssIHBsdWdpbl0gb2YgY29udGFpbmVyLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIHBsdWdpbi5wYXJ0aWNsZUNyZWF0ZWQ/Lih0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpc0luc2lkZUNhbnZhcygpIHtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gdGhpcy5nZXRSYWRpdXMoKSwgY2FudmFzU2l6ZSA9IHRoaXMuY29udGFpbmVyLmNhbnZhcy5zaXplLCBwb3NpdGlvbiA9IHRoaXMucG9zaXRpb247XG4gICAgICAgIHJldHVybiAocG9zaXRpb24ueCA+PSAtcmFkaXVzICYmXG4gICAgICAgICAgICBwb3NpdGlvbi55ID49IC1yYWRpdXMgJiZcbiAgICAgICAgICAgIHBvc2l0aW9uLnkgPD0gY2FudmFzU2l6ZS5oZWlnaHQgKyByYWRpdXMgJiZcbiAgICAgICAgICAgIHBvc2l0aW9uLnggPD0gY2FudmFzU2l6ZS53aWR0aCArIHJhZGl1cyk7XG4gICAgfVxuICAgIGlzVmlzaWJsZSgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmRlc3Ryb3llZCAmJiAhdGhpcy5zcGF3bmluZyAmJiB0aGlzLmlzSW5zaWRlQ2FudmFzKCk7XG4gICAgfVxuICAgIHJlc2V0KCkge1xuICAgICAgICBmb3IgKGNvbnN0IHVwZGF0ZXIgb2YgdGhpcy5jb250YWluZXIucGFydGljbGVzLnVwZGF0ZXJzKSB7XG4gICAgICAgICAgICB1cGRhdGVyLnJlc2V0Py4odGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOlsiY2FsY0V4YWN0UG9zaXRpb25PclJhbmRvbUZyb21TaXplIiwiY2xhbXAiLCJkZWdUb1JhZCIsImdldERpc3RhbmNlIiwiZ2V0UGFydGljbGVCYXNlVmVsb2NpdHkiLCJnZXRQYXJ0aWNsZURpcmVjdGlvbkFuZ2xlIiwiZ2V0UmFuZG9tIiwiZ2V0UmFuZ2VWYWx1ZSIsInJhbmRvbUluUmFuZ2UiLCJzZXRSYW5nZVZhbHVlIiwiZGVlcEV4dGVuZCIsImdldFBvc2l0aW9uIiwiaW5pdFBhcnRpY2xlTnVtZXJpY0FuaW1hdGlvblZhbHVlIiwiaXNJbkFycmF5IiwiaXRlbUZyb21TaW5nbGVPck11bHRpcGxlIiwiZXJyb3JQcmVmaXgiLCJtaWxsaXNlY29uZHNUb1NlY29uZHMiLCJnZXRIc2xGcm9tQW5pbWF0aW9uIiwicmFuZ2VDb2xvclRvUmdiIiwiSW50ZXJhY3Rpdml0eSIsIlZlY3RvciIsIlZlY3RvcjNkIiwiYWx0ZXJIc2wiLCJsb2FkUGFydGljbGVzT3B0aW9ucyIsImRlZmF1bHRSZXRyeUNvdW50IiwiZG91YmxlIiwiaGFsZiIsInNxdWFyZUV4cCIsImxvYWRFZmZlY3REYXRhIiwiZWZmZWN0IiwiZWZmZWN0T3B0aW9ucyIsImlkIiwicmVkdWNlRHVwbGljYXRlcyIsImVmZmVjdERhdGEiLCJvcHRpb25zIiwiY2xvc2UiLCJmaWxsIiwibG9hZFNoYXBlRGF0YSIsInNoYXBlIiwic2hhcGVPcHRpb25zIiwic2hhcGVEYXRhIiwiZml4T3V0TW9kZSIsImRhdGEiLCJvdXRNb2RlIiwiY2hlY2tNb2RlcyIsImRpYW1ldGVyIiwicmFkaXVzIiwiY29vcmQiLCJtYXhDb29yZCIsInNldENiIiwiUGFydGljbGUiLCJkZXN0cm95Iiwib3ZlcnJpZGUiLCJzaGFwZURyYXdlciIsInVuYnJlYWthYmxlIiwiZGVzdHJveWVkIiwiYnViYmxlIiwiaW5SYW5nZSIsInNsb3ciLCJjb250YWluZXIiLCJwYXRoR2VuZXJhdG9yIiwic2hhcGVEcmF3ZXJzIiwiZ2V0IiwicGFydGljbGVEZXN0cm95IiwicGx1Z2luIiwicGx1Z2lucyIsInBhcnRpY2xlRGVzdHJveWVkIiwidXBkYXRlciIsInBhcnRpY2xlcyIsInVwZGF0ZXJzIiwicmVzZXQiLCJfZW5naW5lIiwiZGlzcGF0Y2hFdmVudCIsInBhcnRpY2xlIiwiZHJhdyIsImRlbHRhIiwiY2FudmFzIiwiZHJhd1BhcnRpY2xlUGx1Z2luIiwiZHJhd1BhcnRpY2xlIiwiZ2V0RmlsbENvbG9yIiwiX2dldFJvbGxDb2xvciIsImNvbG9yIiwiZ2V0TWFzcyIsImdldFJhZGl1cyIsIk1hdGgiLCJQSSIsIngiLCJwb3NpdGlvbiIsIm9mZnNldCIsInkiLCJ6Iiwic2l6ZSIsInZhbHVlIiwiZ2V0U3Ryb2tlQ29sb3IiLCJzdHJva2VDb2xvciIsImluaXQiLCJvdmVycmlkZU9wdGlvbnMiLCJncm91cCIsImVmZmVjdERyYXdlciIsImVuZ2luZSIsImVmZmVjdENsb3NlIiwiZWZmZWN0RmlsbCIsInNoYXBlQ2xvc2UiLCJzaGFwZUZpbGwiLCJwYXRoUm90YXRpb24iLCJsYXN0UGF0aFRpbWUiLCJyb3RhdGlvbiIsIm1pc3BsYWNlZCIsInJldGluYSIsIm1heERpc3RhbmNlIiwib3V0VHlwZSIsImlnbm9yZXNSZXNpemVSYXRpbyIsInB4UmF0aW8iLCJwaXhlbFJhdGlvIiwibWFpbk9wdGlvbnMiLCJhY3R1YWxPcHRpb25zIiwicGFydGljbGVzT3B0aW9ucyIsImVmZmVjdFR5cGUiLCJ0eXBlIiwic2hhcGVUeXBlIiwib3ZlcnJpZGVFZmZlY3RUeXBlIiwibG9hZCIsIm92ZXJyaWRlU2hhcGVUeXBlIiwiaW50ZXJhY3Rpdml0eSIsInBhdGhPcHRpb25zIiwibW92ZSIsInBhdGgiLCJwYXRoRGVsYXkiLCJkZWxheSIsImdlbmVyYXRvciIsImdldFBhdGhHZW5lcmF0b3IiLCJhZGRQYXRoIiwiaW5pdFBhcnRpY2xlIiwiZmFjdG9yIiwiX2luaXRQb3NpdGlvbiIsImluaXRpYWxWZWxvY2l0eSIsIl9jYWxjdWxhdGVWZWxvY2l0eSIsInZlbG9jaXR5IiwiY29weSIsImRlY2F5T2Zmc2V0IiwibW92ZURlY2F5IiwiZGVjYXkiLCJzZXRMYXN0WkluZGV4IiwiekluZGV4RmFjdG9yIiwiekxheWVycyIsInNpZGVzIiwiZWZmZWN0RHJhd2VycyIsImdldEVmZmVjdERyYXdlciIsInNldCIsImxvYWRFZmZlY3QiLCJnZXRTaGFwZURyYXdlciIsImxvYWRTaGFwZSIsInNpZGVDb3VudEZ1bmMiLCJnZXRTaWRlc0NvdW50Iiwic3Bhd25pbmciLCJzaGFkb3dDb2xvciIsInNoYWRvdyIsIm1vdmVyIiwibW92ZXJzIiwicGFydGljbGVJbml0IiwicGFydGljbGVDcmVhdGVkIiwiaXNJbnNpZGVDYW52YXMiLCJjYW52YXNTaXplIiwiaGVpZ2h0Iiwid2lkdGgiLCJpc1Zpc2libGUiLCJjb25zdHJ1Y3RvciIsIl9jYWxjUG9zaXRpb24iLCJ6SW5kZXgiLCJ0cnlDb3VudCIsInBsdWdpblBvcyIsInBhcnRpY2xlUG9zaXRpb24iLCJ1bmRlZmluZWQiLCJjcmVhdGUiLCJleGFjdFBvc2l0aW9uIiwicG9zIiwib3V0TW9kZXMiLCJmaXhIb3Jpem9udGFsIiwiZml4VmVydGljYWwiLCJsZWZ0IiwiZGVmYXVsdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwiX2NoZWNrT3ZlcmxhcCIsImluY3JlbWVudCIsImJhc2VWZWxvY2l0eSIsImRpcmVjdGlvbiIsInJlcyIsIm1vdmVPcHRpb25zIiwicmFkIiwiYW5nbGUiLCJyYWRPZmZzZXQiLCJyYW5nZSIsInN0cmFpZ2h0IiwicmFuZG9tIiwic3BlZWQiLCJsZW5ndGgiLCJjb2xsaXNpb25zT3B0aW9ucyIsImNvbGxpc2lvbnMiLCJlbmFibGUiLCJvdmVybGFwT3B0aW9ucyIsIm92ZXJsYXAiLCJyZXRyaWVzIiwibWluUmV0cmllcyIsIkVycm9yIiwiZmluZCIsInJvbGwiLCJiYWNrQ29sb3IiLCJhbHRlciIsInJvbGxGYWN0b3IiLCJub25lIiwiYmFja0ZhY3RvciIsImhvcml6b250YWwiLCJ2ZXJ0aWNhbCIsImJhY2tTdW0iLCJyb2xsZWQiLCJmbG9vciIsInpJbmRleFZhbHVlIiwibWluWiIsImluaXRpYWxQb3NpdGlvbiIsImRlZmF1bHRSYWRpdXMiLCJtb3ZlQ2VudGVyIiwiY2VudGVyIiwibW9kZSIsIm9yaWdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@tsparticles/engine/browser/Core/Particle.js\n"));

/***/ })

}]);